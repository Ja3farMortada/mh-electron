import{a as Y}from"./chunk-I4Y3OHQI.js";import{C as J,D as N,F as X,v as q,w as A,x as G,y as K}from"./chunk-DNVA5LVB.js";import{$b as W,$c as j,Ba as S,Ca as _,Da as p,Fc as B,G as P,Gc as L,H as E,Hc as z,Ia as I,Ic as Q,Ja as R,Ka as V,La as C,Ma as s,Na as v,O as m,Oa as x,P as d,Qa as y,Ra as D,Sa as T,T as h,Ua as F,Va as g,_c as U,aa as r,cb as M,db as H,ka as w,ma as a,pa as k,va as n,vb as O,wa as o,xa as u}from"./chunk-E4UPHNBD.js";var Z=["tableSearch"],$=()=>({width:"75vw"}),ee=()=>({"1199px":"85vw","575px":"95vw"}),te=()=>["product_name"],ie=()=>[10,15,50,100];function ne(l,b){l&1&&(n(0,"tr")(1,"th",14),u(2,"p-tableHeaderCheckbox"),o(),n(3,"th",15),s(4," Description"),u(5,"p-sortIcon",16),o(),n(6,"th",17),s(7," Category"),u(8,"p-sortIcon",18),o(),n(9,"th"),s(10,"Price"),o()())}function oe(l,b){if(l&1&&(n(0,"tr",19)(1,"td"),u(2,"p-tableCheckbox",20),o(),n(3,"td"),s(4),o(),n(5,"td"),s(6),o(),n(7,"td"),s(8),M(9,"currency"),o()()),l&2){let e=b.$implicit;a("pSelectableRow",e),r(2),a("pSelectableRow",e)("value",e),r(2),v(e.product_name),r(2),v(e.category_name||"---"),r(2),v(H(9,6,e.unit_cost_usd))}}function le(l,b){if(l&1){let e=S();n(0,"div",5)(1,"div",6)(2,"span",7),u(3,"i",8),n(4,"input",9,0),_("input",function(t){m(e);let c=C(10);return d(c.filterGlobal(t.target.value,"contains"))}),o()()(),n(6,"div",6)(7,"h3",10),s(8),o()()(),n(9,"p-table",11,1),T("selectionChange",function(t){m(e);let c=p();return D(c.selectedProducts,t)||(c.selectedProducts=t),d(t)}),_("onRowSelect",function(){m(e);let t=p();return d(t.selectInput())})("onRowUnselect",function(){m(e);let t=p();return d(t.selectInput())}),w(11,ne,11,0,"ng-template",12)(12,oe,10,8,"ng-template",13),o()}if(l&2){let e=C(10),i=p();r(4),a("value",e.filters.global==null?null:e.filters.global.value),r(4),x(" Total Selected: ",i.selectedProducts.length," "),r(),a("value",i.products()),y("selection",i.selectedProducts),a("loading",i.tableLoading())("globalFilterFields",g(12,te))("filterDelay",0)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",g(13,ie))("alwaysShowPaginator",!0)}}function re(l,b){if(l&1){let e=S();n(0,"h3",21),s(1),o(),n(2,"p-button",22),_("onClick",function(){m(e);let t=p();return d(t.closeDialog())}),o(),n(3,"p-button",23),_("onClick",function(){m(e);let t=p();return d(t.submitProducts())}),o()}if(l&2){let e=p();r(),x(" Total Selected: ",e.selectedProducts.length," "),r(2),a("disabled",e.selectedProducts.length==0)}}var ye=(()=>{class l{constructor(){this.stockService=P(Y),this.visible=!1,this.onSubmit=new h,this.onHide=new h,this.products=this.stockService.getProducts(),this.tableLoading=this.stockService.tableLoading,this.selectedProducts=[]}ngOnInit(){}submitProducts(){this.onSubmit.emit(this.selectedProducts),this.closeDialog()}closeDialog(){this.selectedProducts=[],this.onHide.emit(!1)}selectInput(){this.tableSearch.nativeElement.select()}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=E({type:l,selectors:[["deliver-dialog"]],viewQuery:function(i,t){if(i&1&&I(Z,5),i&2){let c;R(c=V())&&(t.tableSearch=c.first)}},inputs:{visible:"visible"},outputs:{onSubmit:"onSubmit",onHide:"onHide"},standalone:!0,features:[F],decls:3,vars:10,consts:[["tableSearch",""],["dt",""],["header","Select Items","styleClass","p-fluid",3,"visibleChange","modal","visible","breakpoints","closeOnEscape","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[1,"grid","mb-2"],[1,"col-6"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","search","placeholder","Search ...",1,"p-inputtext-sm",3,"input","value"],[1,"text-center","m-0"],["selectionMode","multiple","dataKey","product_id","styleClass","p-datatable-sm","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",3,"selectionChange","onRowSelect","onRowUnselect","value","selection","loading","globalFilterFields","filterDelay","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator"],["pTemplate","header"],["pTemplate","body"],[2,"width","4rem"],["pSortableColumn","product_name"],["field","product_name"],["pSortableColumn","category_name"],["field","category_name"],[3,"pSelectableRow"],[3,"pSelectableRow","value"],[1,"text-left","m-0"],["label","Cancel","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Finish","icon","pi pi-check","severity","success","size","small",3,"onClick","disabled"]],template:function(i,t){i&1&&(n(0,"p-dialog",2),T("visibleChange",function(f){return D(t.visible,f)||(t.visible=f),f}),w(1,le,13,14,"ng-template",3)(2,re,4,2,"ng-template",4),o()),i&2&&(k(g(8,$)),a("modal",!0),y("visible",t.visible),a("breakpoints",g(9,ee))("closeOnEscape",!1)("closable",!1)("maximizable",!0))},dependencies:[X,q,W,A,K,G,J,N,L,B,j,U,O,Q,z]})}}return l})();export{ye as a};
