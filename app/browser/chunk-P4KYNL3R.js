import{a as wt,b as Tt,c as It,d as Et}from"./chunk-5QXBBOVC.js";import{a as J}from"./chunk-LCWTYQXM.js";import"./chunk-UHQYT7O6.js";import{a as re,b as St}from"./chunk-TPLBFVKT.js";import"./chunk-NVX7LJGS.js";import{a as dt}from"./chunk-6ZZPN6TL.js";import{a as G}from"./chunk-NBCVTIKU.js";import{c as Q}from"./chunk-HT3JZ6CO.js";import{a as Y}from"./chunk-AK6G6VWP.js";import{a as ke}from"./chunk-GXNMPK5K.js";import{b as Ye}from"./chunk-CK6XGA6X.js";import{a as _t}from"./chunk-N5J4AUQI.js";import{a as Qe}from"./chunk-Z3UO65U3.js";import"./chunk-OWTGQR6U.js";import"./chunk-MB5UDTNQ.js";import{a as gt,b as ht}from"./chunk-IZUVX76I.js";import{b as yt}from"./chunk-K5EGCQLI.js";import{a as Ct,b as xt}from"./chunk-IY5RNTTX.js";import{a as ft,b as vt}from"./chunk-GOLNOKOZ.js";import{b as Ge}from"./chunk-C5S2HPP5.js";import"./chunk-425U57QI.js";import{a as nt,b as ot}from"./chunk-7PIM7VCW.js";import{a as lt}from"./chunk-GSMGX6RX.js";import{b as bt}from"./chunk-X55XG56Y.js";import"./chunk-3NTPSQLE.js";import{b as ut}from"./chunk-7LKCTRLS.js";import"./chunk-MEVQH5BX.js";import{A as ct,B as mt,F as pt,i as Ze,j as et,l as tt,m as it,q as rt,v as at,z as st}from"./chunk-DNVA5LVB.js";import{b as U,c as Me}from"./chunk-UQQFQ63C.js";import{$b as Ve,$c as Xe,Ba as b,C as pe,Ca as h,D as R,Da as c,Ec as je,Fc as Ue,G as E,Gc as Ae,H as de,I as j,Ia as fe,Ic as Ke,Ja as ve,Ka as Ce,La as xe,Ma as s,Na as P,Nb as oe,O as d,Oa as v,P as _,Qa as w,Ra as T,Sa as I,Sb as Pe,Va as V,Wa as M,Xa as ye,_c as Je,a as me,aa as a,ba as $,cb as x,d as ie,db as y,fc as A,ha as F,hc as He,ic as Fe,jc as Be,ka as f,kc as K,lc as De,ma as m,mc as Le,oc as We,pa as q,pc as Ne,qa as ne,qb as be,ra as _e,rb as Se,rc as $e,sa as ue,sb as we,sc as qe,ta as ge,tc as Oe,ua as he,uc as ze,va as r,vb as Te,vc as Re,wa as o,xa as C,xb as Ie,zb as Ee}from"./chunk-E4UPHNBD.js";import{a as ee,b as te,h as ce}from"./chunk-WWX6BADO.js";var Pt=(()=>{class n{constructor(){this.http=E(Ee),this.apiService=E(Me),this.notificationService=E(U),this.expensesService=E(dt),this.customerService=E(G),this.currentInvoice=F({}),this.signal_submited=F(!1),this.signal_submit_loading=F(!1),this.reset$=new ie(!1),this.selectedPriceType=F("latest"),this.selectedCustomerLatestItems=new ie([]),this.invoiceDialogVisible=F(!1),this.invoiceData=F(null),this.remainingBalance=this.customerService.customersTotalDebts$,this.appliedPayment=F(0)}getCustomerLatestPurchase(e){this.http.get(`${this.apiService.host}/customers/${e}/purchases/latest`).subscribe({next:i=>{this.selectedCustomerLatestItems.next(i)}})}checkout(e,i,t){this.appliedPayment.set(0),this.signal_submited.set(!0),this.signal_submit_loading.set(!0);let l=null;i&&(l={amount:i,customer_id:e.customer_id,payment_date:e.order_datetime},this.appliedPayment.set(i)),this.http.post(`${this.apiService.host}/sell-orders`,{invoice:e,payment:l}).subscribe({next:u=>ce(this,null,function*(){this.notificationService.showSuccess("Invoice submitted"),this.invoiceData.set(u),i&&this.expensesService.getBalance(),yield this.customerService.getAccountTotalBalance(e.customer_id),this.invoiceDialogVisible.set(!0)}),error:u=>{this.notificationService.showError(u.error.message,"home"),this.signal_submit_loading.set(!1)},complete:()=>{t.getItems(),this.currentInvoice.set({}),this.signal_submited.set(!1),this.signal_submit_loading.set(!1),this.reset$.next(!0)}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $t=["invoiceTable"],ae=()=>({standalone:!0}),Vt=()=>({width:"50vw"}),qt=()=>({"1199px":"75vw","575px":"95vw"}),Ot=()=>({"1199px":"75vw","575px":"100vw"}),zt=n=>({"ng-invalid ng-dirty":n}),Rt=()=>({width:"100%"}),jt=n=>({"border-top-1 surface-border":n}),kt=n=>({"text-red-500":n}),Ut=()=>({width:"1rem"}),Ht=n=>({"dark-hover":n}),Mt=n=>({invalid:n}),At=(n,p)=>({"text-red-500":n,"text-orange-500":p}),Kt=n=>[n];function Qt(n,p){if(n&1){let e=b();r(0,"div",55)(1,"p-button",56),h("onClick",function(){d(e);let t=c(2);return _(t.customerDialogVisible=!0)}),o()()}}function Gt(n,p){if(n&1){let e=b();r(0,"div",48)(1,"div",49)(2,"label",57),s(3,"Payment"),o(),r(4,"p-inputNumber",58),h("onFocus",function(t){d(e);let l=c(2);return _(l.select(t.target))}),I("ngModelChange",function(t){d(e);let l=c(2);return T(l.payment_amount,t)||(l.payment_amount=t),_(t)}),o()()()}if(n&2){let e=c(2);a(4),q(V(7,Rt)),w("ngModel",e.payment_amount),m("ngModelOptions",V(8,ae))("buttonLayout","horizontal")("step",1)("min",0)}}function Yt(n,p){if(n&1&&(r(0,"form",47)(1,"div",19)(2,"div",48)(3,"div",49)(4,"label",50),s(5,"Customer"),r(6,"span",51),s(7," *"),o()(),C(8,"p-dropdown",52),o()(),f(9,Qt,2,0,"div",53)(10,Gt,5,9,"div",54),o()()),n&2){let e=c();m("formGroup",e.invoiceForm),a(8),m("loading",e.signal_tableLoading())("options",e.customers())("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",M(9,zt,e.f.customer_id.invalid&&(e.f.customer_id.dirty||e.f.customer_id.touched||e.submited()))),a(),m("ngIf",!e.f.customer_id.value),a(),m("ngIf",e.f.customer_id.value)}}function Jt(n,p){if(n&1&&(r(0,"tr")(1,"td",9)(2,"h3",10),s(3,"Payment:"),o()(),r(4,"td",11)(5,"h3",12),s(6),x(7,"currency"),o()()()),n&2){let e=c();a(6),v(" ",y(7,1,e.payment_amount)," ")}}function Xt(n,p){if(n&1){let e=b();r(0,"i",85),h("click",function(){d(e);let t=c().index,l=c(3);return _(l.toggleCost(t))}),o()}if(n&2){let e=c().index,i=c(3);m("ngClass",i.visibleCosts[e]?"pi-eye-slash":"pi-eye")}}function Zt(n,p){n&1&&C(0,"i",86)}function ei(n,p){if(n&1&&(r(0,"p",12),s(1),x(2,"currency"),o()),n&2){let e=c().$implicit;a(),v(" Cost: ",y(2,1,e.unit_cost)," ")}}function ti(n,p){if(n&1){let e=b();r(0,"div",70)(1,"div",71)(2,"div",72)(3,"i",73),h("click",function(){let t=d(e).index,l=c(3);return _(l.removeRow(t))}),o(),C(4,"br"),r(5,"p-button",74),h("onClick",function(){let t=d(e).$implicit,l=c(3);return _(l.openPriceDialog(t))}),o(),C(6,"br"),f(7,Xt,1,1,"i",75),o(),r(8,"div",76)(9,"div",19)(10,"div",20)(11,"div",77),s(12),o()(),r(13,"div",78)(14,"p",79),s(15),x(16,"currency"),f(17,Zt,1,0,"i",80),o(),f(18,ei,3,3,"p",81),o(),r(19,"div",82)(20,"p",83),s(21),C(22,"br"),s(23),o(),r(24,"p-inputNumber",84),I("ngModelChange",function(t){let l=d(e).$implicit;return T(l.quantity,t)||(l.quantity=t),_(t)}),h("onFocus",function(t){d(e);let l=c(3);return _(l.select(t.target))})("ngModelChange",function(){let t=d(e).$implicit,l=c(3);return _(l.setQty(t))}),o()()()()()()}if(n&2){let e,i,t,l,u=p.$implicit,g=p.first,L=p.index,S=c(3);a(),m("ngClass",M(16,jt,!g)),a(6),m("ngIf",(e=S.userPermissions())==null?null:e.view_cost),a(5),v(" ",u.product_name," "),a(2),m("ngClass",M(18,kt,S.parseFloat(u.unit_price)<S.parseFloat(u.unit_cost)&&((i=S.userPermissions())==null?null:i.view_cost))),a(),v(" Price: ",y(16,14,u.unit_price)," "),a(2),m("ngIf",S.parseFloat(u.unit_price)<S.parseFloat(u.unit_cost)&&((t=S.userPermissions())==null?null:t.view_cost)),a(),m("ngIf",S.visibleCosts[L]&&((l=S.userPermissions())==null?null:l.view_cost)),a(3),v(" stock: ",u.stock," "),a(2),v(" remain: ",u.stock-u.quantity," "),a(),q(V(20,Ut)),w("ngModel",u.quantity),m("showButtons",!0)("step",1)}}function ii(n,p){if(n&1){let e=b();r(0,"p-messages",87),I("valueChange",function(t){d(e);let l=c(3);return T(l.messages,t)||(l.messages=t),_(t)}),o()}if(n&2){let e=c(3);w("value",e.messages),m("enableService",!1)("closable",!1)}}function ni(n,p){if(n&1&&(r(0,"h3",88),s(1),o(),C(2,"p-divider")),n&2){let e=c(3);a(),v(" Total Units: ",e.invoiceTotal.total_qty," ")}}function oi(n,p){if(n&1){let e=b();r(0,"div",19),f(1,ti,25,21,"div",63),r(2,"div",20),f(3,ii,1,3,"p-messages",64)(4,ni,3,1),o(),r(5,"div",65)(6,"p-autoComplete",66,2),I("ngModelChange",function(t){d(e);let l=c(2);return T(l.search_product,t)||(l.search_product=t),_(t)}),h("completeMethod",function(t){d(e);let l=c(2);return _(l.filterProducts(t))})("onKeyUp",function(t){d(e);let l=c(2);return _(l.submitInvoiceInput(t))}),o()(),r(8,"div",67)(9,"p-button",68),h("onClick",function(){d(e);let t=c(2);return _(t.dialog_products_visible=!0)}),o()(),r(10,"div",69)(11,"p-button",36),h("onClick",function(){d(e);let t=c(2);return _(t.clearInvoice())}),o(),r(12,"p-button",37),h("onClick",function(){d(e);let t=c(2);return _(t.checkout())}),o()()()}if(n&2){let e=p.$implicit,i=c(2);a(),m("ngForOf",e),a(2),_e(i.order_items.length===0?3:4),a(3),w("ngModel",i.search_product),m("suggestions",i.matching_products)("delay",0)("lazy",!0),a(5),m("disabled",i.order_items.length==0),a(),m("loading",i.loading())("disabled",i.order_items.length==0)}}function ri(n,p){if(n&1&&(r(0,"div",59)(1,"p-card",60)(2,"p-dataView",61,3),f(4,oi,13,9,"ng-template",62),o()()()),n&2){let e=c();a(2),m("value",e.order_items)}}function li(n,p){n&1&&(r(0,"th",92),s(1," Cost "),o())}function ai(n,p){if(n&1){let e=b();r(0,"tr")(1,"th",89),h("click",function(){d(e);let t=c();return _(t.f.order_datetime.value&&t.toggleExpandAll())}),C(2,"i"),o(),r(3,"th",90),s(4,"Description"),o(),f(5,li,2,0,"th",91),r(6,"th",92),s(7,"Qty"),o(),r(8,"th",92),s(9,"Rem."),o(),r(10,"th",93),s(11,"Unit"),o(),r(12,"th",93),s(13,"Total"),o(),r(14,"th",92),s(15,"Del?"),o()()}if(n&2){let e,i=c();a(),m("ngClass",M(4,Ht,i.f.customer_id.value)),a(),ne(i.all_expanded?"pi pi-eye":"pi pi-eye-slash"),a(3),m("ngIf",((e=i.userPermissions())==null?null:e.view_cost)||!1)}}function si(n,p){if(n&1&&(r(0,"td"),s(1),x(2,"currency"),o()),n&2){let e=c().$implicit;a(),v(" ",y(2,1,e.unit_cost)," ")}}function ci(n,p){if(n&1){let e=b();r(0,"p-inputNumber",101),I("ngModelChange",function(t){d(e);let l=c().$implicit;return T(l.quantity,t)||(l.quantity=t),_(t)}),h("onFocus",function(t){d(e);let l=c(2);return _(l.select(t.target))})("ngModelChange",function(){d(e);let t=c().$implicit,l=c();return _(l.setQty(t))}),o()}if(n&2){let e=c().$implicit;w("ngModel",e.quantity)}}function mi(n,p){if(n&1&&(r(0,"span",102),s(1),o()),n&2){let e=c().$implicit;m("ngClass",M(2,kt,!e.quantity)),a(),P(e.quantity)}}function pi(n,p){if(n&1){let e=b();r(0,"p-inputNumber",103),I("ngModelChange",function(t){d(e);let l=c().$implicit;return T(l.unit_price,t)||(l.unit_price=t),_(t)}),h("ngModelChange",function(){d(e);let t=c().$implicit,l=c();return _(l.setPrice(t))})("onFocus",function(t){d(e);let l=c(2);return _(l.select(t.target))}),o()}if(n&2){let e=c().$implicit;w("ngModel",e.unit_price),m("maxFractionDigits",2)("min",0)}}function di(n,p){n&1&&C(0,"i",105)}function _i(n,p){if(n&1&&(r(0,"span",102),s(1),x(2,"currency"),r(3,"span"),f(4,di,1,0,"i",104),o()()),n&2){let e=c().$implicit,i=c();m("ngClass",ye(5,At,!e.unit_price,i.getPriceWarining(e))),a(),P(y(2,3,e.unit_price)),a(3),m("ngIf",i.getPriceWarining(e))}}function ui(n,p){if(n&1){let e=b();r(0,"tr")(1,"td",94),C(2,"i"),o(),r(3,"td"),s(4),o(),f(5,si,3,3,"td",14),r(6,"td",95)(7,"p-cellEditor"),f(8,ci,1,1,"ng-template",96)(9,mi,2,4,"ng-template",97),o()(),r(10,"td"),s(11),o(),r(12,"td",98)(13,"p-cellEditor"),f(14,pi,1,3,"ng-template",96)(15,_i,5,8,"ng-template",97),o()(),r(16,"td"),s(17),x(18,"currency"),o(),r(19,"td",99),h("click",function(){let t=d(e).rowIndex,l=c();return _(l.removeRow(t))}),C(20,"i",100),o()()}if(n&2){let e,i=p.$implicit,t=p.expanded,l=c();a(),m("ngClass",M(15,Ht,l.f.customer_id.value&&l.getCustomerItemHistory(i)&&l.getCustomerItemHistory(i).length>0))("pRowTogglerDisabled",!l.f.customer_id.value||!l.getCustomerItemHistory(i)||l.getCustomerItemHistory(i).length===0)("pRowToggler",i),a(),ne(t?"pi pi-eye":"pi pi-eye-slash"),a(2),P(i.product_name),a(),m("ngIf",((e=l.userPermissions())==null?null:e.view_cost)||!1),a(),m("pEditableColumn",i.quantity)("ngClass",M(17,Mt,!i.quantity)),a(5),P(i.stock-i.quantity),a(),m("pEditableColumn",i.unit_price)("ngClass",M(19,Mt,!i.unit_price)),a(5),v(" ",i.currency=="lira"?i.unit_price*i.quantity:y(18,13,i.unit_price*i.quantity)," ")}}function gi(n,p){n&1&&(r(0,"tr")(1,"th"),s(2,"Latest Price"),o(),r(3,"th"),s(4,"Purchase date"),o()())}function hi(n,p){if(n&1&&(r(0,"tr")(1,"td"),s(2),x(3,"currency"),o(),r(4,"td"),s(5),o()()),n&2){let e=p.$implicit;a(2),v(" ",y(3,2,e.unit_price)," "),a(3),v(" ",e.order_datetime||" --- "," ")}}function fi(n,p){if(n&1&&f(0,hi,6,4,"tr",108),n&2){let e=c().$implicit,i=c();m("ngForOf",i.getCustomerItemHistory(e))}}function vi(n,p){if(n&1&&(r(0,"tr")(1,"td",106)(2,"div",107)(3,"p-table",61),f(4,gi,5,0,"ng-template",22)(5,fi,1,1,"ng-template",6),o()()()()),n&2){let e=p.$implicit;a(3),m("value",M(1,Kt,e))}}function Ci(n,p){if(n&1&&(r(0,"h4",88),s(1),o()),n&2){let e=c(2);a(),v(" Total units: ",e.invoiceTotal.total_qty," ")}}function xi(n,p){if(n&1&&f(0,Ci,2,1,"h4",109),n&2){let e=c();m("ngIf",e.invoiceTotal.total_qty)}}function yi(n,p){n&1&&(r(0,"tr",110)(1,"td",106),s(2,"No data yet!"),o()())}function bi(n,p){if(n&1){let e=b();r(0,"div",32)(1,"p-radioButton",111),I("ngModelChange",function(t){d(e);let l=c();return T(l.selectedPriceType,t)||(l.selectedPriceType=t),_(t)}),o(),r(2,"label",112),s(3),o()()}if(n&2){let e=p.$implicit,i=c();a(),m("value",e),w("ngModel",i.selectedPriceType),m("ngModelOptions",V(6,ae))("inputId",e),a(),m("for",e),a(),v(" ",i.getPriceTypeLabel(e)," ")}}function Si(n,p){if(n&1&&(r(0,"p"),s(1),x(2,"currency"),o()),n&2){let e=c(2);a(),v(" Cost: ",y(2,1,e.selectedUnitCost)," ")}}function wi(n,p){n&1&&(r(0,"small",117),s(1,"Price is required!"),o())}function Ti(n,p){if(n&1){let e=b();r(0,"form",113),h("ngSubmit",function(){d(e);let t=c();return _(t.submitEditPrice())}),r(1,"div",114),f(2,Si,3,3,"p",14),r(3,"p"),s(4),x(5,"currency"),o(),r(6,"label"),s(7,"New Price"),o(),C(8,"p-inputNumber",115),f(9,wi,2,0,"small",116),o()()}if(n&2){let e,i=c();m("formGroup",i.editPriceForm),a(2),m("ngIf",(e=i.userPermissions())==null?null:e.view_cost),a(2),v("price: ",y(5,4,i.selectedUnitPrice),""),a(5),m("ngIf",(i.new_price==null?null:i.new_price.invalid)&&((i.new_price==null?null:i.new_price.dirty)||(i.new_price==null?null:i.new_price.touched)||i.submitted))}}function Ii(n,p){if(n&1){let e=b();r(0,"button",118),h("click",function(){d(e);let t=c();return _(t.closeEditPrice())}),o(),r(1,"button",119),h("click",function(){d(e);let t=c();return _(t.submitEditPrice())}),o()}if(n&2){let e=c();a(),m("disabled",!e.editPriceForm.valid)}}function Ei(n,p){n&1&&(r(0,"tr")(1,"th"),s(2,"#"),o(),r(3,"th"),s(4,"Name"),o(),r(5,"th"),s(6,"Price"),o(),r(7,"th"),s(8,"Qty"),o(),r(9,"th"),s(10,"Total"),o()())}function Pi(n,p){if(n&1&&(r(0,"tr")(1,"td",92),s(2),o(),r(3,"td"),s(4),o(),r(5,"td",126),s(6),x(7,"currency"),o(),r(8,"td",126),s(9),o(),r(10,"td",126),s(11),x(12,"currency"),o()()),n&2){let e=p.$implicit,i=p.rowIndex;a(2),P(i+1),a(2),P(e.product_name),a(2),P(y(7,5,e.unit_price)),a(3),P(e.quantity),a(2),P(y(12,7,e.total_price))}}function Vi(n,p){if(n&1&&(r(0,"div",19)(1,"div",120)(2,"p",12)(3,"strong"),s(4,"Billed To:"),o(),s(5),o(),r(6,"p",12)(7,"strong"),s(8,"Phone:"),o(),s(9),o(),r(10,"p",12)(11,"strong"),s(12,"Address:"),o(),s(13),o()(),r(14,"div",121)(15,"p",122)(16,"strong"),s(17,"Invoice #:"),o(),s(18),C(19,"br"),r(20,"strong"),s(21,"Date:"),o(),s(22),o()()(),C(23,"p-divider",123),r(24,"p-table",124),f(25,Ei,11,0,"ng-template",22)(26,Pi,13,9,"ng-template",6),o(),r(27,"div",125)(28,"div",20)(29,"strong"),s(30,"Total: "),o(),s(31),x(32,"currency"),C(33,"br"),r(34,"strong"),s(35,"Payment: "),o(),s(36),x(37,"currency"),C(38,"br"),r(39,"strong"),s(40,"Remaining Balance: "),o(),s(41),x(42,"currency"),o()()),n&2){let e=c();a(5),v(" ",e.invoiceData().customer_name," "),a(4),v("",e.invoiceData().customer_phone||"---"," "),a(4),v(" ",e.invoiceData().customer_address||"---"," "),a(5),v(" ",e.invoiceData().invoice_number," "),a(4),v(" ",e.invoiceData().order_datetime," "),a(2),m("value",e.invoiceData().items),a(7),v(" ",y(32,9,e.invoiceData().total_amount)," "),a(5),v(" ",y(37,11,e.appliedPayment())," "),a(5),v(" ",y(42,13,e.remainingBalance().balance)," ")}}function Mi(n,p){if(n&1){let e=b();r(0,"p-button",130),h("onClick",function(){d(e);let t=c(2);return _(t.thermalPrint())}),o()}}function ki(n,p){if(n&1){let e=b();r(0,"p-button",127),h("onClick",function(){d(e);let t=c();return _(t.sendWhatsapp())}),o(),f(1,Mi,1,0,"p-button",128),r(2,"p-button",129),h("onClick",function(){d(e);let t=c();return _(t.invoiceDialogVisible.set(!1))}),o()}if(n&2){let e=c();a(),m("ngIf",e.isWeb)}}var Ft=(()=>{class n{constructor(e,i,t,l){this.sellService=e,this.customersService=i,this.notificationsService=t,this.confirmationService=l,this.dateService=E(lt),this.fb=E($e),this.authService=E(ke),this.userPermissions=this.authService.userPermissions,this.stockService=this.authService.isAdmin()?E(_t):E(Qe),this.isWeb=!window.electron,this.invoiceTotal=new re,this.vh="45vh",this.all_expanded=!1,this.search_product=null,this.matching_products=[],this.customers=this.customersService.customers,this.dialog_products_visible=!1,this.customer_balance=this.customersService.customersTotalDebts$,this.customer_balance_loading=this.customersService.signal_balanceLoading,this.payment_amount=0,this.currentInvoice=this.sellService.currentInvoice,this.submited=this.sellService.signal_submited,this.products=this.stockService.getProducts(),this.loading=this.sellService.signal_submit_loading,this.stockTableLoading=this.stockService.tableLoading,this.signal_tableLoading=this.customersService.signal_tableLoading,this.order_items=[],this.subscriptions=new me,this.priceTypes=Object.keys(St),this.today=this.dateService.getCurrentDate(),this.selectedPriceType=this.sellService.selectedPriceType,this.selectedCustomerLatestItems=[],this.invoiceForm=new Be({customer_id:new K(null,A.required),invoice_number:new K(""),order_datetime:new K(this.today,A.required)}),this.visibleCosts=[],this.editPriceVisible=!1,this.submitted=!1,this.editPriceForm=this.fb.group({new_price:[null,A.required]}),this.customerDialogVisible=!1,this.invoiceDialogVisible=this.sellService.invoiceDialogVisible,this.invoiceData=this.sellService.invoiceData,this.remainingBalance=this.sellService.remainingBalance,this.appliedPayment=this.sellService.appliedPayment}get customer_id(){return this.invoiceForm.get("customer_id")}get f(){return this.invoiceForm.controls}ngOnInit(){this.messages=[{severity:"info",detail:"No Invoice Yet!"}],this.invoiceForm.patchValue(this.currentInvoice()),this.order_items=this.currentInvoice().items||[],this.calculateTotal("init"),this.subscriptions.add(this.customersService.newOrder$.subscribe(e=>{e&&this.invoiceForm.patchValue({customer_id:e})})),this.subscriptions.add(this.customer_id?.statusChanges.subscribe(e=>{if(this.customer_id.value){switch(this.customers().find(t=>t.account_id===this.customer_id.value).default_price){case"last":this.selectedPriceType.set("latest");break;case"retail":this.selectedPriceType.set("unit_price_usd");break;case"grand":this.selectedPriceType.set("grandwhole_price_usd");break;case"wholesale":this.selectedPriceType.set("whole_price_usd");break}this.sellService.getCustomerLatestPurchase(this.customer_id.value),this.customersService.getAccountTotalBalance(this.customer_id.value)}else this.selectedCustomerLatestItems=[],this.all_expanded=!0,this.toggleExpandAll(),this.customer_balance.set({id:0,balance:"0"})})),this.subscriptions.add(this.sellService.selectedCustomerLatestItems.subscribe(e=>{this.selectedCustomerLatestItems=e})),this.subscriptions.add(this.sellService.reset$.subscribe(e=>{e&&(this.init(),this.sellService.reset$.next(!1))}))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.sellService.currentInvoice.set(te(ee({},this.invoiceForm.value),{items:this.order_items}))}setPrice(e){this.calculateTotal("edit")}setQty(e){this.calculateTotal("edit")}select(e){e.select()}getCustomerItemHistory(e){return this.selectedCustomerLatestItems.filter(i=>i.product_id==e.product_id&&i.price_type==e.price_type)}init(){this.order_items=[],this.submited.set(!1),this.invoiceForm.reset({order_datetime:this.today}),this.calculateTotal("init"),this.selectedPriceType.set("latest"),this.payment_amount=0}clearInvoice(){this.confirmationService.confirm({key:"home",message:"Are you sure that you want to clear invoice?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.init()}})}filterProducts(e){let i=e.query.toLowerCase();this.matching_products=this.products().filter(t=>t.product_name.toLowerCase().includes(i)||t.sku?.toLowerCase().includes(i)||t.barcode?.toLowerCase().includes(i))}addProduct(e){let i=this.order_items.find(t=>t.product_id===e.product_id);if(i)i.quantity+=1,this.calculateTotal("edit");else{let t=0;if(this.selectedPriceType()==="latest"){let l=this.selectedCustomerLatestItems.find(u=>u.product_id===e.product_id);l&&(t=l.unit_price)}else t=e[this.selectedPriceType()]||0;this.order_items.push({product_id:e.product_id,product_name:e.product_name,unit_price:t,price_type:this.selectedPriceType(),stock:e.quantity,quantity:1,unit_cost:Math.max(e.unit_cost_usd||0,e.avg_cost_usd||0),avg_cost:e.avg_cost_usd}),this.calculateTotal("add")}}submitInvoiceInput(e){e.key==="Enter"&&(typeof this.search_product=="object"&&this.search_product!==null?this.addProduct(this.search_product):this.search_product&&this.notificationsService.showError("Product not found","home"),this.search_product=null)}removeRow(e){this.confirmationService.confirm({key:"home",message:"Are you sure that you want to remove row?",header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.order_items.splice(e,1),this.calculateTotal("remove"),this.validateItems()}})}toggleCost(e){this.visibleCosts[e]=!this.visibleCosts[e]}assignSelectedProducts(e){this.dialog_products_visible=!1,e.forEach(i=>{this.addProduct(i)})}toggleExpandAll(){this.all_expanded=!this.all_expanded,this.all_expanded?this.order_items.forEach(e=>{this.getCustomerItemHistory(e)&&this.getCustomerItemHistory(e).length>0&&(this.invoiceTable.expandedRowKeys[e.product_id]=!0)}):this.invoiceTable&&setTimeout(()=>{this.invoiceTable.expandedRowKeys={}})}calculateTotal(e){let i=new re,t=this.order_items;return t.length>0&&(t.forEach(l=>{i.total_qty+=l.quantity,i.cost_dollar+=l.unit_cost*l.quantity,i.subtotal_dollar+=l.unit_price*l.quantity}),i.total_dollar=i.subtotal_dollar-i.discount_dollar),this.invoiceTotal=i,i}getPriceTypeLabel(e){return{unit_price_usd:"\u0645\u0641\u0631\u0642",whole_price_usd:"\u062C\u0645\u0644\u0629",grandwhole_price_usd:"\u062C\u0645\u0644\u0629 \u0627\u0644\u062C\u0645\u0644\u0629",latest:"\u0622\u062E\u0631 \u0633\u0639\u0631"}[e]}get new_price(){return this.editPriceForm.get("new_price")}openPriceDialog(e){this.submitted=!1,this.selectedRecord=e,this.selectedUnitCost=e.unit_cost,this.selectedUnitPrice=e.unit_price,this.editPriceVisible=!0}submitEditPrice(){if(this.submitted=!0,this.editPriceForm.valid){let e=this.order_items.findIndex(i=>i.product_id===this.selectedRecord.product_id);this.order_items[e].unit_price=this.editPriceForm.value.new_price,this.closeEditPrice(),this.editPriceForm.reset(),this.calculateTotal("edit")}}closeEditPrice(){this.editPriceForm.reset(),this.editPriceVisible=!1}parseFloat(e){return parseFloat(e)}checkout(){let e=this.validateItems();this.invoiceForm.valid&&!e?this.confirmationService.confirm({key:"home",message:'Are you sure that you want to submit invoice"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-success",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.sellService.checkout(te(ee({},this.invoiceForm.value),{total_amount:this.invoiceTotal.total_dollar,total_cost:this.invoiceTotal.cost_dollar,items:this.order_items}),this.payment_amount,this.stockService)}}):(this.submited.set(!0),e&&this.notificationsService.showError("Please enter price for all items","home"))}validateItems(){return!!this.order_items.find(i=>!i.unit_price||!i.quantity)}calculateNewBalance(e,i=0,t=0){return i=parseFloat(i),i+e-t}getPriceWarining(e){if(!e.unit_price||!this.userPermissions()?.view_cost)return!1;let i=Math.max(e.unit_cost||0,e.avg_cost||0),t=e.unit_price;return typeof i=="string"&&(i=parseFloat(i)),typeof t=="string"&&(t=parseFloat(t)),t<i}onCreateCustomer(e){this.customers.set([...this.customers(),e]),this.invoiceForm.patchValue({customer_id:e.account_id})}sendWhatsapp(){let e=this.invoiceData(),i=e.customer_name,u=`961${e.customer_phone.replace(/\s+/g,"").replace(/^0/,"")}`,g=e.items.map((B,k)=>`\u2022 ${B.product_name} -> ${B.quantity}\xD7$${B.unit_price} = $${B.total_price}`).join(`
`),L=this.appliedPayment()||0,S=this.remainingBalance().balance||0,se=`
Invoice #${e.invoice_number}
Date:${e.order_datetime}
Customer:${i}

${g}

Total: $${e.total_amount}
Payment: $${L}
Remaining Balance: $${S}`,X=`https://wa.me/${u}?text=${encodeURIComponent(se.trim())}`;window.open(X,"_blank")}thermalPrint(){let e=this.invoiceData(),i=e.customer_name,t=this.appliedPayment()||0,l=this.remainingBalance().balance||0,u=32,g=(k,W)=>{let O=k.split(" "),D=[],H="";for(let N of O)(H+N).length>W?(D.push(H.trim()),H=N+" "):H+=N+" ";return H.trim().length>0&&D.push(H.trim()),D},L=k=>{let W=k.product_name.trim(),O=k.quantity,D=`$${k.total_price}`,H=u-10,N=g(W,H),z="";return N.forEach((Z,Dt)=>{if(Dt===0){let Lt=u-(Z.length+`${O}x${D}`.length),Wt=" ".repeat(Math.max(Lt,1));z+=`${Z}${Wt}${O}x${D}
`}else z+=`${Z}
`}),z+=`
`,z},S=e.items.map(L).join(""),X=`${(k=>{let W=Math.floor((u-k.length)/2);return" ".repeat(Math.max(W,0))+k})("*** Invoice ***")}


${"INVOICE #"+e.invoice_number}
Customer: ${i}
Date: ${e.order_datetime}
-------------------------------
${S}
-------------------------------
Total:      $${e.total_amount}
Payment:    $${t}
Remaining:  $${l}
-------------------------------`,B="rawbt:"+encodeURIComponent(X);window.location.href=B}static{this.\u0275fac=function(i){return new(i||n)($(Pt),$(G),$(U),$(Pe))}}static{this.\u0275cmp=de({type:n,selectors:[["app-sell-home"]],viewQuery:function(i,t){if(i&1&&fe($t,5),i&2){let l;ve(l=Ce())&&(t.invoiceTable=l.first)}},decls:82,vars:53,consts:[["desktopTable",""],["invoiceTable",""],["barcodeInput",""],["dv",""],[1,"grid","m-1"],[1,"col-12","lg:col-9"],["pTemplate","body"],[1,"col-12","lg:col-3"],[2,"width","100%"],[1,"text-left"],[1,"m-0","text-green-500"],[1,"text-right"],[1,"m-0"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","50%",3,"isLoading","loadingBar"],[4,"ngIf"],["colspan","2"],["class","col-12 lg:hidden",4,"ngIf"],[1,"col-12","hidden","lg:block"],["styleClass","mt-2"],[1,"grid"],[1,"col-12"],["dataKey","product_id","styleClass","p-datatable-sm ","editMode","cell",3,"value"],["pTemplate","header"],["pTemplate","rowexpansion"],["pTemplate","summary"],["pTemplate","emptymessage"],[1,"col-7","md:col-3","lg:col-2"],["styleClass","w-full","inputStyleClass","w-full","field","product_name","name","barcodeInput","placeholder","scan or search ...","spellcheck","false",1,"p-inputtext-sm","w-full",3,"ngModelChange","completeMethod","onKeyUp","ngModel","suggestions","delay","lazy","virtualScroll"],[1,"col-5","md:col-3","lg:col-2"],["label","Multi Select","severity","warning","size","small","icon","pi pi-list","styleClass","w-full",3,"onClick"],[1,"col-12","md:col-6","lg:col-5"],[1,"flex","flex-wrap","gap-2","justify-content-between","align-content-center","h-full"],[1,"flex","align-items-center"],["value","latest","inputId","latest",3,"ngModelChange","ngModel","ngModelOptions"],["for","latest",1,"ml-2"],[1,"col-12","md:col-6","lg:col-3","text-right"],["label","Clear","icon","pi pi-times","severity","danger","size","small","styleClass","w-full mt-4 md:w-auto md:mt-0",3,"onClick","disabled"],["label","Checkout","icon","pi pi-cart-plus","severity","success","size","small","styleClass","w-full mt-2 md:w-auto md:ml-2 md:mt-0",3,"onClick","loading","disabled"],[3,"target","blocked"],[1,"text-center","custom-content"],[1,"pi","pi-lock",2,"font-size","xx-large"],[3,"onHide","onSubmit","visible","products","tableLoading","price"],["header","Edit Price","styleClass","p-fluid","position","top",3,"visibleChange","visible","modal","breakpoints","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"visibleChange","onCreate","visible","mode"],["position","top",3,"visibleChange","visible","modal","breakpoints","maximizable"],[3,"formGroup"],[1,"col-12","md:col-3"],[1,"flex","flex-column","gap-2"],["for","customer"],[1,"text-red-500"],["styleClass","p-inputtext-sm","id","customer","appendTo","body","formControlName","customer_id","optionLabel","name","optionValue","account_id","placeholder","Select Customer","filterBy","name",3,"loading","options","filter","showClear","autoOptionFocus","ngClass"],["class","col-12 md:col-3 align-self-end",4,"ngIf"],["class","col-12 md:col-3",4,"ngIf"],[1,"col-12","md:col-3","align-self-end"],["icon","pi pi-plus","label","New Customer","size","small","severity","success",3,"onClick"],["for","currency"],["inputId","currency-us","mode","currency","currency","USD","locale","en-US","styleClass","p-inputtext-sm",3,"onFocus","ngModelChange","ngModel","ngModelOptions","buttonLayout","step","min"],[1,"col-12","lg:hidden"],["styleClass","mt-2 invoice-body"],[3,"value"],["pTemplate","list"],["class","col-12 p-0",4,"ngFor","ngForOf"],["detail","testing",3,"value","enableService","closable"],[1,"col-8","md:col-3","lg:col-2"],["inputStyleClass","p-inputtext-sm w-full","styleClass","w-full","field","product_name","name","barcodeInput","placeholder","scan or search ...","spellcheck","false",3,"ngModelChange","completeMethod","onKeyUp","ngModel","suggestions","delay","lazy"],[1,"col-4","md:col-3","lg:col-2"],["label","Select","severity","warning","size","small","icon","pi pi-list","styleClass","w-full",3,"onClick"],[1,"col-12","md:col-6","lg:col-8","text-right"],[1,"col-12","p-0"],[1,"grid","py-2",3,"ngClass"],[1,"col-2","text-center"],[1,"pi","pi-trash","text-red-500","pb-3",2,"font-size","1.3rem",3,"click"],["severity","contrast","icon","pi pi-pencil","size","small",3,"onClick"],["style","font-size: 1.3rem","class","pi pt-3",3,"ngClass","click",4,"ngIf"],[1,"col-10"],[1,"text-lg","font-medium","text-900"],[1,"col-7"],[1,"m-0",3,"ngClass"],["class","pi pi-exclamation-triangle text-red-600",4,"ngIf"],["class","m-0",4,"ngIf"],[1,"col-5"],[1,"m-0","text-center"],["min","1","buttonLayout","horizontal","spinnerMode","horizontal","inputId","vertical","decrementButtonClass","p-button-danger small-button","incrementButtonClass","p-button-success small-button","incrementButtonIcon","pi pi-plus","decrementButtonIcon","pi pi-minus",1,"small-input","pl-4","pt-2",3,"ngModelChange","onFocus","ngModel","showButtons","step"],[1,"pi","pt-3",2,"font-size","1.3rem",3,"click","ngClass"],[1,"pi","pi-exclamation-triangle","text-red-600"],["detail","testing",3,"valueChange","value","enableService","closable"],[1,"text-center","m-0"],["width","5%",3,"click","ngClass"],["width","40%"],["width","5%",4,"ngIf"],["width","5%"],["width","15%"],[3,"ngClass","pRowTogglerDisabled","pRowToggler"],["pEditableColumnField","quantity",3,"pEditableColumn","ngClass"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","unit_price",3,"pEditableColumn","ngClass"],[1,"danger-hover",3,"click"],[1,"pi","pi-trash"],["min","1","step","0",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel"],[3,"ngClass"],["styleClass","input-align-center","step","0",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel","maxFractionDigits","min"],["class","pi pi-exclamation-triangle ml-2",4,"ngIf"],[1,"pi","pi-exclamation-triangle","ml-2"],["colspan","9"],[1,"p-2"],[4,"ngFor","ngForOf"],["class","text-center m-0",4,"ngIf"],[1,"surface-300"],[3,"ngModelChange","value","ngModel","ngModelOptions","inputId"],[1,"ml-2",3,"for"],[3,"ngSubmit","formGroup"],[1,"field","mt-1"],["formControlName","new_price","inputId","currency-us","mode","currency","currency","USD","locale","en-US","min","0"],["class","p-error",4,"ngIf"],[1,"p-error"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","pRipple","","label","Submit","icon","pi pi-check",1,"p-button-success",3,"click","disabled"],[1,"col-6"],[1,"col-4","col-offset-2","text-right"],[1,"mt-0"],["styleClass","mt-0"],["dataKey","order_item_id","styleClass","p-datatable-sm ",3,"value"],[1,"grid","flex","mt-1"],["width","10%"],["label","Whatsapp","icon","pi pi-whatsapp","severity","success","size","small",3,"onClick"],["label","Print","icon","pi pi-print","severity","contrast","size","small",3,"onClick",4,"ngIf"],["label","Close","icon","pi pi-times","severity","secondary","size","small",3,"onClick"],["label","Print","icon","pi pi-print","severity","contrast","size","small",3,"onClick"]],template:function(i,t){if(i&1){let l=b();r(0,"div",4)(1,"div",5)(2,"p-card"),f(3,Yt,11,11,"ng-template",6),o()(),r(4,"div",7)(5,"p-card")(6,"table",8)(7,"tbody")(8,"tr")(9,"td",9)(10,"h3",10),s(11,"Invoice Total:"),o()(),r(12,"td",11)(13,"h3",12),s(14),x(15,"currency"),o()()(),r(16,"tr")(17,"td",9)(18,"h3",10),s(19,"Old Balance:"),o()(),r(20,"td",11)(21,"h3",12)(22,"text-with-loading",13)(23,"span"),s(24),x(25,"currency"),o()()()()(),f(26,Jt,8,3,"tr",14),r(27,"tr")(28,"td",15),C(29,"p-divider"),o()(),r(30,"tr")(31,"td",9)(32,"h3",10),s(33,"New Balance:"),o()(),r(34,"td",11)(35,"h3",12)(36,"text-with-loading",13)(37,"span"),s(38),x(39,"currency"),o()()()()()()()()(),f(40,ri,5,1,"div",16),r(41,"div",17)(42,"p-card",18,0)(44,"div",19)(45,"div",20)(46,"p-table",21,1),f(48,ai,16,6,"ng-template",22)(49,ui,21,21,"ng-template",6)(50,vi,6,3,"ng-template",23)(51,xi,1,1,"ng-template",24)(52,yi,3,0,"ng-template",25),o()(),r(53,"div",26)(54,"p-autoComplete",27,2),I("ngModelChange",function(g){return d(l),T(t.search_product,g)||(t.search_product=g),_(g)}),h("completeMethod",function(g){return d(l),_(t.filterProducts(g))})("onKeyUp",function(g){return d(l),_(t.submitInvoiceInput(g))}),o()(),r(56,"div",28)(57,"p-button",29),h("onClick",function(){return d(l),_(t.dialog_products_visible=!0)}),o()(),r(58,"div",30)(59,"div",31)(60,"div",32)(61,"p-radioButton",33),I("ngModelChange",function(g){return d(l),T(t.selectedPriceType,g)||(t.selectedPriceType=g),_(g)}),o(),r(62,"label",34),s(63),o()(),ge(64,bi,4,7,"div",32,ue),o()(),r(66,"div",35)(67,"p-button",36),h("onClick",function(){return d(l),_(t.clearInvoice())}),o(),r(68,"p-button",37),h("onClick",function(){return d(l),_(t.checkout())}),o()()()()()(),r(69,"p-blockUI",38)(70,"div",39),C(71,"i",40),r(72,"h1"),s(73,"choose a customer"),o()()(),r(74,"products-dialog",41),h("onHide",function(){return d(l),_(t.dialog_products_visible=!1)})("onSubmit",function(g){return d(l),_(t.assignSelectedProducts(g))}),o(),r(75,"p-dialog",42),I("visibleChange",function(g){return d(l),T(t.editPriceVisible,g)||(t.editPriceVisible=g),_(g)}),f(76,Ti,10,6,"ng-template",43)(77,Ii,2,1,"ng-template",44),o(),r(78,"customer-dialog",45),I("visibleChange",function(g){return d(l),T(t.customerDialogVisible,g)||(t.customerDialogVisible=g),_(g)}),h("onCreate",function(g){return d(l),_(t.onCreateCustomer(g))}),o(),r(79,"p-dialog",46),I("visibleChange",function(g){return d(l),T(t.invoiceDialogVisible,g)||(t.invoiceDialogVisible=g),_(g)}),f(80,Vi,43,15,"ng-template",6)(81,ki,3,1,"ng-template",44),o()}if(i&2){let l=xe(43);a(14),v(" ",y(15,42,t.invoiceTotal.subtotal_dollar)," "),a(8),m("isLoading",t.customer_balance_loading())("loadingBar",!0),a(2),P(y(25,44,t.customer_balance().balance)),a(2),m("ngIf",t.payment_amount),a(10),m("isLoading",t.customer_balance_loading())("loadingBar",!0),a(2),P(y(39,46,t.calculateNewBalance(t.invoiceTotal.subtotal_dollar,t.customer_balance().balance,t.payment_amount))),a(2),m("ngIf",t.f.customer_id.value),a(6),m("value",t.order_items),a(8),w("ngModel",t.search_product),m("suggestions",t.matching_products)("delay",0)("lazy",!0)("virtualScroll",!1),a(7),w("ngModel",t.selectedPriceType),m("ngModelOptions",V(48,ae)),a(2),v(" ",t.getPriceTypeLabel("latest")," "),a(),he(t.priceTypes),a(3),m("disabled",t.order_items.length==0),a(),m("loading",t.loading())("disabled",t.order_items.length==0),a(),m("target",l)("blocked",!t.f.customer_id.value),a(5),m("visible",t.dialog_products_visible)("products",t.products)("tableLoading",t.stockTableLoading())("price",t.selectedPriceType()),a(),q(V(49,Vt)),w("visible",t.editPriceVisible),m("modal",!0)("breakpoints",V(50,qt))("draggable",!1)("resizable",!1),a(3),w("visible",t.customerDialogVisible),m("mode","add"),a(),q(V(51,Vt)),w("visible",t.invoiceDialogVisible),m("modal",!0)("breakpoints",V(52,Ot))("maximizable",!0)}},dependencies:[be,Se,we,Le,He,Fe,De,We,Ne,je,Ue,Ve,Ze,ze,gt,tt,at,st,ct,mt,nt,ft,Y,wt,Je,Ct,It,Q,J,Te],styles:["[_nghost-%COMP%]  .p-fieldset .p-fieldset-content{padding:.5rem}.editable[_ngcontent-%COMP%]{width:100%;height:28px}[_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component{width:100%}td[_ngcontent-%COMP%]:has(span.p-inputnumber.p-component){padding:0}td[_ngcontent-%COMP%]:has(.no-padding){padding:0}.input-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component .p-inputnumber-input{text-align:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}[_nghost-%COMP%]  .small-button{font-size:.5rem!important;padding:.2rem .4rem!important;width:2rem!important}[_nghost-%COMP%]  .small-input>span>input{padding:.3rem!important;width:2rem!important;text-align:center}[_nghost-%COMP%]  .invoice-body>div>div{padding:0!important}[_nghost-%COMP%]  .p-dataview-emptymessage{display:none}[_nghost-%COMP%]  .p-card-content{padding:0!important}.invalid[_ngcontent-%COMP%]{border-color:var(--red-500)!important}"]})}}return n})();var Hi=[{path:"",component:Ft}],Bt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=R({imports:[oe.forChild(Hi),oe]})}}return n})();var Xn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=R({imports:[Ie,qe,Oe,Bt,Ae,Ke,et,rt,yt,Re,ht,bt,it,pt,ut,ot,vt,Y,Tt,Xe,xt,Et,Ge,Ye,Q,J]})}}return n})();export{Xn as SellModule};
