import{a as st}from"./chunk-6AMBXUQL.js";import{a as Qe}from"./chunk-6HTKW57C.js";import{a as de}from"./chunk-FPL6FKXO.js";import{a as Ke}from"./chunk-I4Y3OHQI.js";import{a as Re}from"./chunk-MB5UDTNQ.js";import{a as Y,b as Xe}from"./chunk-DVHYHQJ7.js";import{a as ce}from"./chunk-G5PLGORR.js";import"./chunk-425U57QI.js";import{a as K}from"./chunk-GSMGX6RX.js";import{a as te}from"./chunk-OMM7MOCJ.js";import{a as Ye,b as Je}from"./chunk-7LKCTRLS.js";import{A as Ge,B as $e,F as Ue,i as B,j as qe,l as We,m as ze,p as N,q as Ae,v as L}from"./chunk-DNVA5LVB.js";import{b as ee,c as se}from"./chunk-SFMGPKFH.js";import{$b as P,$c as je,Ba as C,C as ie,Ca as c,D as ne,Da as d,Ec as M,Fc as k,G as _,Ga as Pe,Gc as Le,H as I,Hc as $,I as oe,Ic as Oe,Ma as a,N as He,Na as u,Nb as we,O as f,Oa as x,P as v,Qa as D,Ra as E,Sa as T,Sb as Fe,T as Ce,Va as w,Wa as re,_c as U,a as Z,aa as l,ba as xe,cb as y,d as Ie,db as b,dc as q,ha as O,hc as V,ic as W,jc as pe,ka as g,kc as z,lc as Me,ma as s,mc as A,oc as Q,pa as R,pc as G,qb as ae,rc as me,sb as j,sc as ke,tc as Be,uc as F,va as t,vb as H,vc as Ne,wa as n,xa as h,xb as Ve,zb as le}from"./chunk-E4UPHNBD.js";import{g as lt}from"./chunk-WWX6BADO.js";var X=(()=>{class i{constructor(){this.http=_(le),this.api=_(se),this.notificationService=_(ee),this.socket=_(Re),this.deliverHistory=O([]),this.isLoading=O(!1),this.suppliers_paymentsHistory=O([]),this.moneyTransferHistory=O([]),this.purchasesHistory=O([]),this.loadingPurchasesHistory=O(!1),this.socket.on("deliverCompleted",e=>{let r=this.deliverHistory().find(o=>o.order_id===e.id);r&&(r.is_approved=1,this.deliverHistory.update(o=>{let m=this.deliverHistory().findIndex(S=>S.order_id===e.id);return[...o.slice(0,m),r,...o.slice(m+1)]}),console.log(this.deliverHistory()),this.notificationService.showSocketMessage(`${e.user} has approved an order`,"home"))})}fetchDeliverHistory(e){this.isLoading.set(!0),this.http.post(`${this.api.host}/admin-history/deliver/search`,e).subscribe({next:r=>{this.deliverHistory.set(r),this.isLoading.set(!1)},error:r=>{this.notificationService.handleError(r.error,"home"),this.isLoading.set(!1)}})}fetchSuppliersPaymentHistory(e){this.isLoading.set(!0),this.http.post(`${this.api.host}/admin-history/suppliers-payment/search`,e).subscribe({next:r=>{console.log(r),this.suppliers_paymentsHistory.set(r),this.isLoading.set(!1)},error:r=>{this.isLoading.set(!1),this.notificationService.handleError(r.error,"home")}})}fetchMoneyTransfersHistory(e){this.isLoading.set(!0),this.http.post(`${this.api.host}/admin-history/money-transfer/search`,e).subscribe({next:r=>{this.moneyTransferHistory.set(r),this.isLoading.set(!1)},error:r=>{this.isLoading.set(!1),this.notificationService.handleError(r.error,"home")}})}fetchPurchasesHistory(e=null){this.loadingPurchasesHistory.set(!0),this.http.post(`${this.api.host}/admin-history/purchase/search`,e).subscribe({next:r=>{this.purchasesHistory.set(r),this.loadingPurchasesHistory.set(!1)},error:r=>{this.loadingPurchasesHistory.set(!1),this.notificationService.handleError(r.error,"home")}})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ze=(()=>{class i{constructor(){this.http=_(le),this.api=_(se),this.notificationService=_(ee),this.dateService=_(K),this.host=this.api.host,this.checkoutLoading=O(!1),this.action_status$=new Ie(null)}edit_checkout(e,r){this.checkoutLoading.set(!0),this.http.put(`${this.host}/deliver/invoice`,{order:e,items:r}).subscribe({next:o=>{this.notificationService.showSuccess(o.message,"home"),this.checkoutLoading.set(!1)},error:o=>{console.log(o),this.notificationService.handleError(o.error,"home"),this.checkoutLoading.set(!1),o.status===400&&this.action_status$.next("APROVED")},complete:()=>{this.action_status$.next("UPDATE")}})}deleteInvoice(e){this.checkoutLoading.set(!0),this.http.delete(`${this.host}/deliver/invoice/${e}`).subscribe({next:r=>{this.notificationService.showSuccess(r.message,"home")},error:r=>{this.notificationService.handleError(r.error,"home"),this.checkoutLoading.set(!1),r.status===400&&this.action_status$.next("APROVED")},complete:()=>{this.action_status$.next("DELETE"),this.checkoutLoading.set(!1)}})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mt=()=>({width:"95vw",height:"75vh"}),dt=i=>({"ng-invalid ng-dirty":i}),ct=i=>({invalid:i}),ut=i=>({"text-red-500":i});function _t(i,p){i&1&&(t(0,"small",26),a(1,"User is required."),n())}function ht(i,p){i&1&&(t(0,"tr")(1,"th",27),a(2,"#"),n(),t(3,"th",28),a(4,"Description"),n(),t(5,"th",29),a(6,"Unit"),n(),t(7,"th",30),a(8,"Qty"),n(),t(9,"th",29),a(10,"Total"),n(),t(11,"th",27),a(12,"Del?"),n()())}function ft(i,p){if(i&1){let e=C();t(0,"p-inputNumber",36),T("ngModelChange",function(o){f(e);let m=d().$implicit;return E(m.quantity,o)||(m.quantity=o),v(o)}),c("onFocus",function(o){f(e);let m=d(3);return v(m.select(o.target))})("ngModelChange",function(){f(e);let o=d().$implicit,m=d(2);return v(m.setQty(o))}),n()}if(i&2){let e=d().$implicit;D("ngModel",e.quantity)}}function vt(i,p){if(i&1&&(t(0,"span",37),a(1),n()),i&2){let e=d().$implicit;s("ngClass",re(2,ut,!e.quantity)),l(),u(e.quantity)}}function gt(i,p){if(i&1){let e=C();t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),y(7,"currency"),n(),t(8,"td",31)(9,"p-cellEditor"),g(10,ft,1,1,"ng-template",32)(11,vt,2,4,"ng-template",33),n()(),t(12,"td"),a(13),y(14,"currency"),n(),t(15,"td",34),c("click",function(){let o=f(e).rowIndex,m=d(2);return v(m.removeRow(o))}),h(16,"i",35),n()()}if(i&2){let e=p.$implicit,r=p.rowIndex;l(2),u(r+1),l(2),u(e.product_name),l(2),u(b(7,6,e.unit_price)),l(2),s("pEditableColumn",e.quantity)("ngClass",re(10,ct,!e.quantity)),l(5),x(" ",b(14,8,e.unit_price*e.quantity)," ")}}function yt(i,p){}function bt(i,p){i&1&&(t(0,"tr",38)(1,"td",39),a(2,"No data yet!"),n()())}function St(i,p){if(i&1){let e=C();t(0,"button",40),c("click",function(){f(e);let o=d(2);return v(o.openProductsDialog())}),n()}}function Ct(i,p){}function xt(i,p){if(i&1){let e=C();t(0,"div",5)(1,"div",6)(2,"p-card",7)(3,"div",8)(4,"div",6)(5,"div")(6,"div",9)(7,"label",10),a(8,"Invoice Date"),n(),t(9,"p-calendar",11),T("ngModelChange",function(o){f(e);let m=d();return E(m.deliverInfo.order_datetime,o)||(m.deliverInfo.order_datetime=o),v(o)}),n()()()(),t(10,"div",6)(11,"div")(12,"div",9)(13,"label",12),a(14,"User"),n(),t(15,"p-dropdown",13),T("ngModelChange",function(o){f(e);let m=d();return E(m.deliverInfo.database_id,o)||(m.deliverInfo.database_id=o),v(o)}),c("onChange",function(){f(e);let o=d();return v(o.validate())}),n(),g(16,_t,2,0,"small",14),n()()()()()(),t(17,"div",6)(18,"p-card",15)(19,"h1",16)(20,"span",17),a(21,"Total: "),n(),a(22),y(23,"currency"),n()()(),t(24,"div",18)(25,"p-card",15)(26,"p-table",19,0),g(28,ht,13,0,"ng-template",20)(29,gt,17,12,"ng-template",2)(30,yt,0,0,"ng-template",21)(31,bt,3,0,"ng-template",22),n(),t(32,"p-toolbar",23),g(33,St,1,0,"ng-template",24)(34,Ct,0,0,"ng-template",25),n()()()()}if(i&2){let e=d();l(9),D("ngModel",e.deliverInfo.order_datetime),s("readonlyInput",!0)("iconDisplay","input")("showIcon",!0),l(6),D("ngModel",e.deliverInfo.database_id),s("options",e.users())("filter",!0)("showClear",!0)("autoOptionFocus",!1)("ngClass",re(18,dt,e.userInvalid)),l(),s("ngIf",e.userInvalid),l(6),x("",b(23,16,e.invoiceTotal)," "),l(4),Pe("scrollHeight",e.vh),s("value",e.deliverInvoice)("scrollable",!0)("loading",e.checkoutLoading())}}function wt(i,p){if(i&1){let e=C();t(0,"button",41),c("click",function(){f(e);let o=d();return v(o.deleteInvoice())}),n(),t(1,"button",42),c("click",function(){f(e);let o=d();return v(o.closeEditDialog())}),n(),t(2,"p-button",43),c("click",function(){f(e);let o=d();return v(o.submitEditInvoice())}),n()}if(i&2){let e=d();s("disabled",e.checkoutLoading()),l(),s("disabled",e.checkoutLoading()),l(),s("loading",e.checkoutLoading())("disabled",e.deliverInvoice.length==0||!e.deliverInfo.database_id)}}var Se=(()=>{class i{constructor(){this.editDeliverService=_(Ze),this.stockService=_(Ke),this.usersService=_(te),this.notificationService=_(ee),this.confirmationService=_(Fe),this.visible=!1,this.onSubmit=new Ce,this.onHide=new Ce,this.vh=75,this.dialogVisible=!1,this.products=this.stockService.products,this.users=this.usersService.users,this.userInvalid=!1,this.checkoutLoading=this.editDeliverService.checkoutLoading,this.deliverInvoice=[],this.subscriptions=new Z}ngOnInit(){this.editDeliverService.action_status$.subscribe(e=>{(e==="UPDATE"||e==="DELETE"||e==="APROVED")&&(this.onSubmit.emit(!0),this.editDeliverService.action_status$.next(null))})}ngOnDestroy(){this.subscriptions.unsubscribe()}ngOnChanges(){this.visible&&this.selectedDeliver&&(this.deliverInfo={order_id:this.selectedDeliver.order_id,database_id:this.selectedDeliver.database_id,order_datetime:this.selectedDeliver.order_datetime,total_price:this.selectedDeliver.total_price,notes:this.selectedDeliver.notes},this.deliverInvoice=structuredClone(this.selectedDeliver.items),this.invoiceTotal=this.selectedDeliver.total_price)}addProduct(e){let r=this.deliverInvoice.findIndex(o=>o.product_id===e.product_id);r!==-1?(this.deliverInvoice[r].quantity+=1,this.deliverInvoice=this.deliverInvoice):this.deliverInvoice=[...this.deliverInvoice,{product_id:e.product_id,product_name:e.product_name,quantity:1,unit_price:e.unit_cost_usd}],this.calculateTotal()}openProductsDialog(){this.dialogVisible=!0}closeProductsDialog(){this.dialogVisible=!1}assignSelectedProducts(e){this.dialogVisible=!1,e.forEach(r=>{this.addProduct(r)})}validate(){this.userInvalid=!1}select(e){e.select()}setPrice(e){e.unit_price,this.calculateTotal()}setQty(e){this.calculateTotal()}removeRow(e){let r=this.deliverInvoice;this.deliverInvoice=[...r.slice(0,e),...r.slice(e+1)],this.calculateTotal()}calculateTotal(){let e=0,r=this.deliverInvoice;return r.length>0&&r.forEach(o=>{e+=o.unit_price*o.quantity}),this.invoiceTotal=e,e}submitEditInvoice(){let e=0;this.deliverInvoice.forEach(r=>{r.quantity||e++}),e===0?this.confirmationService.confirm({key:"home",message:'Are you sure that you want to continue"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.deliverInfo.total_price=this.invoiceTotal,this.editDeliverService.edit_checkout(this.deliverInfo,this.deliverInvoice)}}):this.notificationService.showError("Quantity cannot be 0","home")}deleteInvoice(){this.confirmationService.confirm({key:"home",message:'Are you sure that you want to delete this invoice"?',header:"Warning",icon:"pi pi-exclamation-triangle",acceptButtonStyleClass:"p-button-danger",rejectButtonStyleClass:"p-button-secondary",defaultFocus:"reject",accept:()=>{this.editDeliverService.deleteInvoice(this.selectedDeliver.order_id)}})}closeEditDialog(){this.onHide.emit(!1)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=I({type:i,selectors:[["edit-deliver"]],inputs:{visible:"visible",selectedDeliver:"selectedDeliver"},outputs:{onSubmit:"onSubmit",onHide:"onHide"},features:[He],decls:4,vars:8,consts:[["invoiceTable",""],["header","Edit Deliver","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","body"],["pTemplate","footer"],[3,"onHide","onSubmit","visible"],[1,"grid","m-1"],[1,"col-12","md:col-6"],["styleClass","p-0",1,"no-padding"],[1,"grid"],[1,"flex","flex-column","gap-2"],["for","order_datetime"],["inputId","order_datetime","name","order_datetime","styleClass","p-inputtext-sm w-full","dateFormat","yy-mm-dd","size","small",3,"ngModelChange","ngModel","readonlyInput","iconDisplay","showIcon"],["for","user"],["styleClass","p-inputtext-sm w-full","id","user","appendTo","body","optionLabel","first_name","optionValue","user_id","placeholder","Select User","filterBy","first_name",1,"ng-invalid","ng-dirty",3,"ngModelChange","onChange","ngModel","options","filter","showClear","autoOptionFocus","ngClass"],["class","p-error",4,"ngIf"],[1,"no-padding"],[1,"text-center","mt-0","mb-0","lg:mt-3","lg:mb-3"],[1,"text-green-500"],[1,"col-12"],["dataKey","product_id","styleClass","p-datatable-sm p-datatable-gridlines mt-3",3,"value","scrollable","scrollHeight","loading"],["pTemplate","header"],["pTemplate","summary"],["pTemplate","emptymessage"],["styleClass","mt-2 p-2"],["pTemplate","left"],["pTemplate","right"],[1,"p-error"],["width","5%"],["width","40%"],["width","20%"],["width","10%"],["pEditableColumnField","quantity",3,"pEditableColumn","ngClass"],["pTemplate","input"],["pTemplate","output"],[1,"danger-hover",3,"click"],[1,"pi","pi-trash"],["min","1","step","0",1,"p-inputtext-sm","editable",3,"ngModelChange","onFocus","ngModel"],[3,"ngClass"],[1,"surface-300"],["colspan","6"],["pButton","","pRipple","","label","Multi Select","severity","warning","icon","pi pi-list","autofocus","true","pAutoFocus","",1,"p-button-sm","ml-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash","severity","danger",1,"w-full","mt-4","md:w-auto","md:mt-0",3,"click","disabled"],["pButton","","pRipple","","label","Cancel Edit","icon","pi pi-times",1,"p-button-secondary","w-full","mt-2","md:w-auto","md:ml-2",3,"click","disabled"],["pRipple","","label","Submit Edit","icon","pi pi-check","severity","success","styleClass","w-full mt-2 md:w-auto md:ml-2",3,"click","loading","disabled"]],template:function(r,o){r&1&&(t(0,"p-dialog",1),T("visibleChange",function(S){return E(o.visible,S)||(o.visible=S),S}),c("onHide",function(){return o.closeEditDialog()}),g(1,xt,35,20,"ng-template",2)(2,wt,3,4,"ng-template",3),n(),t(3,"deliver-dialog",4),c("onHide",function(){return o.closeProductsDialog()})("onSubmit",function(S){return o.assignSelectedProducts(S)}),n()),r&2&&(R(w(7,mt)),D("visible",o.visible),s("modal",!0)("closable",!1)("maximizable",!0),l(3),s("visible",o.dialogVisible))},dependencies:[ae,j,V,Me,L,P,Ge,$e,M,k,F,U,Ye,B,N,de,We,H],styles:[".editable[_ngcontent-%COMP%]{width:100%;height:28px}[_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component{width:100%}td[_ngcontent-%COMP%]:has(span.p-inputnumber.p-component){padding:0}td[_ngcontent-%COMP%]:has(.no-padding){padding:0}.input-align-center[_ngcontent-%COMP%], [_nghost-%COMP%]   .editable[_ngcontent-%COMP%]     span.p-inputnumber.p-component .p-inputnumber-input{text-align:center}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield;-moz-appearance:textfield}.no-padding[_ngcontent-%COMP%]     .p-card-body .p-card-content{padding:0}.invalid[_ngcontent-%COMP%]{border-bottom:1px solid var(--red-500)!important}"]})}}return i})();var Dt=()=>[10,25,50],Et=()=>({width:"95vw"});function Tt(i,p){i&1&&(t(0,"tr")(1,"th"),a(2,"User"),n(),t(3,"th"),a(4,"Datetime"),n(),t(5,"th"),a(6,"Invoice #"),n(),t(7,"th"),a(8,"total"),n(),t(9,"th"),a(10,"Approved"),n(),t(11,"th",19),a(12,"Options"),n()())}function It(i,p){if(i&1){let e=C();t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),a(8),y(9,"currency"),n(),t(10,"td"),h(11,"i",20),n(),t(12,"td")(13,"button",21),c("click",function(){let o=f(e).$implicit,m=d();return v(m.showInvoiceDialog(o))}),n()(),t(14,"td"),h(15,"button",22),n(),t(16,"td")(17,"button",23),c("click",function(){let o=f(e).$implicit,m=d();return v(m.editDeliver(o))}),n()()()}if(i&2){let e=p.$implicit;l(2),u(e.first_name),l(2),u(e.order_datetime),l(2),u(e.invoice_number||"---"),l(2),u(b(9,6,e.total_price)),l(3),s("ngClass",e.is_approved?"pi pi-check text-green-500":"pi pi-history text-gray-500"),l(6),s("disabled",e.is_approved)}}function Ht(i,p){i&1&&(t(0,"tr")(1,"td",24),a(2,"No Records Found!"),n()())}function Pt(i,p){i&1&&(t(0,"tr")(1,"th",27),a(2,"Description"),n(),t(3,"th",28),a(4,"Unit Price"),n(),t(5,"th",29),a(6,"Qty"),n(),t(7,"th",28),a(8,"Total Price"),n()())}function Vt(i,p){if(i&1&&(t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),y(5,"currency"),n(),t(6,"td"),a(7),n(),t(8,"td"),a(9),y(10,"currency"),n()()),i&2){let e=p.$implicit;l(2),u(e.product_name),l(2),x(" ",b(5,4,e.unit_price)," "),l(3),u(e.quantity),l(2),x(" ",b(10,6,e.quantity*e.unit_price)," ")}}function Ft(i,p){if(i&1&&(t(0,"tr"),h(1,"td")(2,"td"),t(3,"td"),a(4),n(),t(5,"td"),a(6),y(7,"currency"),n()()),i&2){let e=d(3);l(4),u(e.selectedInvoiceTotals.totalQty),l(2),x("Total: ",b(7,2,e.selectedDeliver.total_price),"")}}function Mt(i,p){if(i&1&&(t(0,"p-table",26),g(1,Pt,9,0,"ng-template",12)(2,Vt,11,8,"ng-template",13)(3,Ft,8,4,"ng-template",17),n()),i&2){let e=d(2);s("value",e.invoiceItems)}}function kt(i,p){if(i&1&&g(0,Mt,4,1,"p-table",25),i&2){let e=d();s("ngIf",e.invoiceItems.length!=0)}}function Bt(i,p){if(i&1){let e=C();t(0,"button",30),c("click",function(){f(e);let o=d();return v(o.hideInvoiceDialog())}),n()}}var tt=(()=>{class i{constructor(){this.adminHistory=_(X),this.usersService=_(te),this.fb=_(me),this.dateService=_(K),this.deliverHistory=this.adminHistory.deliverHistory,this.users=this.usersService.users,this.isLoading=this.adminHistory.isLoading,this.detailsDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0},this.editDialogVisible=!1,this.searchForm=this.fb.group({invoice_number:[null],user_id:[null],order_date:[null]}),this.submitSearch()}submitSearch(){this.searchForm.value.order_date&&this.searchForm.patchValue({order_date:this.dateService.formatDate(this.searchForm.value.order_date)}),this.adminHistory.fetchDeliverHistory(this.searchForm.value)}resetSearch(){this.searchForm.reset(),this.adminHistory.fetchDeliverHistory(null)}showInvoiceDialog(e){this.invoiceItems=e.items,this.selectedDeliver=e,this.invoiceItems.forEach(r=>{this.selectedInvoiceTotals.totalQty+=r.quantity}),this.detailsDialogVisible=!0}hideInvoiceDialog(){this.detailsDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0}}editDeliver(e){this.selectedDeliver=e,this.editDialogVisible=!0}editDeliverSubmited(){this.editDialogVisible=!1,this.adminHistory.fetchDeliverHistory(this.searchForm.value)}editDeliverDialogClosed(){this.editDialogVisible=!1}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=I({type:i,selectors:[["deliver-history"]],decls:23,vars:30,consts:[[1,"grid","m-1"],[1,"col-12"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","user_id","styleClass","p-inputtext-sm w-full","id","user","appendTo","body","optionLabel","first_name","optionValue","user_id","placeholder","Select User","filterBy","first_name",3,"options","filter","showClear","autoOptionFocus"],["formControlName","order_date","styleClass","p-inputtext-sm w-full","dateFormat","yy-mm-dd","placeholder","Date",3,"showIcon","showClear","readonlyInput","showTime","showSeconds"],["formControlName","invoice_number","type","search","placeholder","Invoice #","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["type","submit","label","search","icon","pi pi-search","pRipple","","size","small","severity","success",1,"mr-2",3,"loading"],["icon","pi pi-times","label","Clear","styleClass","p-button-primary p-button-sm","severity","danger",3,"onClick","disabled"],["dataKey","order_id","styleClass","p-datatable-sm",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Details","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[3,"onHide","onSubmit","visible","selectedDeliver"],["colspan","3","width","6%"],[1,"font-bold","text-lg",3,"ngClass"],["size","small","pButton","","pRipple","","icon","fas fa-eye",1,"p-button-success",3,"click"],["size","small","pButton","","pRipple","","icon","pi pi-print",1,"p-button-secondary"],["size","small","pButton","","pRipple","","icon","fas fa-edit","severity","warning",3,"click","disabled"],["colspan","11"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value",4,"ngIf"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value"],["width","50%"],["width","20%"],["width","10%"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"p-card")(3,"p-fieldset",2)(4,"form",3),c("ngSubmit",function(){return o.submitSearch()}),t(5,"div",4)(6,"div",5),h(7,"p-dropdown",6),n(),t(8,"div",5),h(9,"p-calendar",7),n(),t(10,"div",5),h(11,"input",8),n(),t(12,"div",5),h(13,"p-button",9),t(14,"p-button",10),c("onClick",function(){return o.resetSearch()}),n()()()()(),t(15,"p-table",11),g(16,Tt,13,0,"ng-template",12)(17,It,18,8,"ng-template",13)(18,Ht,3,0,"ng-template",14),n()()()(),t(19,"p-dialog",15),T("visibleChange",function(S){return E(o.detailsDialogVisible,S)||(o.detailsDialogVisible=S),S}),c("onHide",function(){return o.hideInvoiceDialog()}),g(20,kt,1,1,"ng-template",16)(21,Bt,1,0,"ng-template",17),n(),t(22,"edit-deliver",18),c("onHide",function(){return o.editDeliverDialogClosed()})("onSubmit",function(){return o.editDeliverSubmited()}),n()),r&2&&(l(3),s("toggleable",!0),l(),s("formGroup",o.searchForm),l(3),s("options",o.users())("filter",!0)("showClear",!0)("autoOptionFocus",!1),l(2),s("showIcon",!1)("showClear",!0)("readonlyInput",!0)("showTime",!0)("showSeconds",!0),l(4),s("loading",o.isLoading()),l(),s("disabled",o.isLoading()),l(),s("value",o.deliverHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(28,Dt))("alwaysShowPaginator",!1)("loading",o.isLoading()),l(4),R(w(29,Et)),D("visible",o.detailsDialogVisible),s("modal",!0)("closable",!0)("maximizable",!0),l(3),s("visible",o.editDialogVisible)("selectedDeliver",o.selectedDeliver))},dependencies:[ae,j,A,q,V,W,Q,G,L,P,M,k,F,U,$,B,N,Y,Se,H]})}}return i})();var it=lt(st());var Nt=()=>[10,25,50];function Lt(i,p){i&1&&(t(0,"tr")(1,"th"),a(2,"Receipt #"),n(),t(3,"th"),a(4,"Supplier"),n(),t(5,"th"),a(6,"Datetime"),n(),t(7,"th"),a(8,"total"),n(),t(9,"th",15),a(10,"Options"),n()())}function Ot(i,p){if(i&1){let e=C();t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),a(8),y(9,"currency"),n(),t(10,"td"),h(11,"button",16),n(),t(12,"td")(13,"button",17),c("click",function(){let o=f(e).$implicit,m=d();return v(m.openEditDialog(o))}),n()()()}if(i&2){let e=p.$implicit;l(2),u(e.journal_number),l(2),u(e.partner_name),l(2),u(e.payment_date),l(2),u(b(9,4,e.total_value))}}function Rt(i,p){i&1&&(t(0,"tr")(1,"td",18),a(2,"No Records Found!"),n()())}var nt=(()=>{class i{constructor(e,r){this.suppliersService=e,this.adminHistoryService=r,this.suppliers=[],this.suppliersLoading=this.suppliersService.suppliersLoading,this.detailsDialogVisible=!1,this.editDialogVisible=!1,this.subscriptions=new Z,this.paymentsHistory=this.adminHistoryService.suppliers_paymentsHistory,this.loading=this.adminHistoryService.isLoading,this.searchForm=new pe({payment_date:new z(null),partner_id:new z(null),payment_number:new z(null)})}get partner_id(){return this.searchForm.get("partner_id")}submitSearch(){this.searchForm.value.payment_date&&(this.searchForm.value.payment_date=(0,it.default)(this.searchForm.value.payment_date).format("YYYY-MM-DD")),this.adminHistoryService.fetchSuppliersPaymentHistory(this.searchForm.value)}resetSearch(){this.searchForm.reset(),this.adminHistoryService.fetchSuppliersPaymentHistory(null)}openEditDialog(e){this.selectedPayment=e,this.editDialogVisible=!0}hidePaymentDialog(){this.editDialogVisible=!1}getPaymentDilogResult(e){this.adminHistoryService.fetchSuppliersPaymentHistory(this.searchForm.value)}static{this.\u0275fac=function(r){return new(r||i)(xe(ce),xe(X))}}static{this.\u0275cmp=I({type:i,selectors:[["app-suppliers-payment-history"]],decls:19,vars:20,consts:[[1,"grid","m-1"],[1,"col-12"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","partner_id","styleClass","p-inputtext-sm w-full","id","Supplier","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Select Supplier","filterBy","name",3,"options","loading","filter","showClear","autoOptionFocus"],["formControlName","payment_date","styleClass","p-inputtext-sm w-full","dateFormat","yy-mm-dd","placeholder","Date",3,"showIcon","showClear","readonlyInput"],["formControlName","payment_number","type","search","placeholder","Receipt #","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["type","submit","label","search","icon","pi pi-search","pRipple","","size","small","severity","success",1,"mr-2",3,"loading"],["icon","pi pi-times","label","Clear","styleClass","p-button-primary p-button-sm","severity","danger",3,"onClick","disabled"],["dataKey","order_id","styleClass","p-datatable-sm",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["colspan","2","width","10%"],["size","small","pButton","","pRipple","","icon","pi pi-print",1,"p-button-secondary"],["size","small","pButton","","pRipple","","icon","fas fa-edit","severity","warning",3,"click"],["colspan","11"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"p-card")(3,"p-fieldset",2)(4,"form",3),c("ngSubmit",function(){return o.submitSearch()}),t(5,"div",4)(6,"div",5),h(7,"p-dropdown",6),n(),t(8,"div",5),h(9,"p-calendar",7),n(),t(10,"div",5),h(11,"input",8),n(),t(12,"div",5),h(13,"p-button",9),t(14,"p-button",10),c("onClick",function(){return o.resetSearch()}),n()()()()(),t(15,"p-table",11),g(16,Lt,11,0,"ng-template",12)(17,Ot,14,6,"ng-template",13)(18,Rt,3,0,"ng-template",14),n()()()()),r&2&&(l(3),s("toggleable",!0),l(),s("formGroup",o.searchForm),l(3),s("options",o.suppliers)("loading",o.suppliersLoading())("filter",!0)("showClear",!0)("autoOptionFocus",!1),l(2),s("showIcon",!1)("showClear",!0)("readonlyInput",!0),l(4),s("loading",o.loading()),l(),s("disabled",o.loading()),l(),s("value",o.paymentsHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(19,Nt))("alwaysShowPaginator",!1)("loading",o.loading()))},dependencies:[A,q,V,W,Q,G,L,P,M,k,F,$,B,N,Y,H]})}}return i})();var jt=()=>[10,25,50],qt=()=>({width:"95vw"});function Wt(i,p){i&1&&(t(0,"tr")(1,"th",19),a(2,"Transaction #"),n(),t(3,"th",20),a(4,"Datetime"),n(),t(5,"th",20),a(6,"User"),n(),t(7,"th",20),a(8,"Total"),n(),t(9,"th",21),a(10,"Options"),n()())}function zt(i,p){if(i&1&&(t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),a(8),y(9,"currency"),n(),t(10,"td"),h(11,"button",22),n()()),i&2){let e=p.$implicit;l(2),u(e.journal_number||"---"),l(2),u(e.journal_date),l(2),x(" ",e.first_name+" "+e.last_name," "),l(2),u(b(9,4,e.total_value))}}function At(i,p){i&1&&(t(0,"tr")(1,"td",23),a(2,"No Records Found!"),n()())}function Qt(i,p){i&1&&(t(0,"tr")(1,"th",26),a(2,"Description"),n(),t(3,"th",27),a(4,"Unit Price"),n(),t(5,"th",21),a(6,"Qty"),n(),t(7,"th",27),a(8,"Total Price"),n()())}function Gt(i,p){if(i&1&&(t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),y(5,"currency"),n(),t(6,"td"),a(7),n(),t(8,"td"),a(9),y(10,"currency"),n()()),i&2){let e=p.$implicit;l(2),u(e.product_name),l(2),x(" ",b(5,4,e.unit_price)," "),l(3),u(e.quantity),l(2),x(" ",b(10,6,e.quantity*e.unit_price)," ")}}function $t(i,p){if(i&1&&(t(0,"tr"),h(1,"td")(2,"td"),t(3,"td"),a(4),n(),t(5,"td"),a(6),y(7,"currency"),n()()),i&2){let e=d(3);l(4),u(e.selectedInvoiceTotals.totalQty),l(2),x("Total: ",b(7,2,e.selectedDeliver.total_price),"")}}function Ut(i,p){if(i&1&&(t(0,"p-table",25),g(1,Qt,9,0,"ng-template",12)(2,Gt,11,8,"ng-template",13)(3,$t,8,4,"ng-template",17),n()),i&2){let e=d(2);s("value",e.invoiceItems)}}function Kt(i,p){if(i&1&&g(0,Ut,4,1,"p-table",24),i&2){let e=d();s("ngIf",e.invoiceItems.length!=0)}}function Yt(i,p){if(i&1){let e=C();t(0,"button",28),c("click",function(){f(e);let o=d();return v(o.hideInvoiceDialog())}),n()}}var ot=(()=>{class i{constructor(){this.adminHistory=_(X),this.usersService=_(te),this.fb=_(me),this.dateService=_(K),this.moneyTransferHistory=this.adminHistory.moneyTransferHistory,this.users=this.usersService.users,this.isLoading=this.adminHistory.isLoading,this.detailsDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0},this.editDialogVisible=!1,this.searchForm=this.fb.group({invoice_number:[null],user_id:[null],order_date:[null]})}submitSearch(){this.searchForm.value.order_date&&this.searchForm.patchValue({order_date:this.dateService.formatDate(this.searchForm.value.order_date)}),this.adminHistory.fetchMoneyTransfersHistory(this.searchForm.value)}resetSearch(){this.searchForm.reset(),this.adminHistory.fetchMoneyTransfersHistory(null)}showInvoiceDialog(e){this.invoiceItems=e.items,this.selectedDeliver=e,this.invoiceItems.forEach(r=>{this.selectedInvoiceTotals.totalQty+=r.quantity}),this.detailsDialogVisible=!0}hideInvoiceDialog(){this.detailsDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0}}editDeliver(e){this.selectedDeliver=e,this.editDialogVisible=!0}editDeliverSubmited(){this.editDialogVisible=!1,this.adminHistory.fetchMoneyTransfersHistory(this.searchForm.value)}editDeliverDialogClosed(){this.editDialogVisible=!1}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=I({type:i,selectors:[["app-money-transfer-history"]],decls:23,vars:28,consts:[[1,"grid","m-1"],[1,"col-12"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","user_id","styleClass","p-inputtext-sm w-full","id","user","appendTo","body","optionLabel","first_name","optionValue","user_id","placeholder","Select User","filterBy","first_name",3,"options","filter","showClear","autoOptionFocus"],["formControlName","order_date","styleClass","p-inputtext-sm w-full","dateFormat","yy-mm-dd","placeholder","Date",3,"showIcon","showClear","readonlyInput"],["formControlName","invoice_number","type","search","placeholder","Invoice #","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["type","submit","label","search","icon","pi pi-search","pRipple","","size","small","severity","success",1,"mr-2",3,"loading"],["icon","pi pi-times","label","Clear","styleClass","p-button-primary p-button-sm","severity","danger",3,"onClick","disabled"],["dataKey","order_id","styleClass","p-datatable-sm",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Details","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],[3,"onHide","onSubmit","visible","selectedDeliver"],["width","15%"],["width","25%"],["width","10%"],["size","small","pButton","","pRipple","","icon","pi pi-print",1,"p-button-secondary"],["colspan","11"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value",4,"ngIf"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value"],["width","50%"],["width","20%"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"p-card")(3,"p-fieldset",2)(4,"form",3),c("ngSubmit",function(){return o.submitSearch()}),t(5,"div",4)(6,"div",5),h(7,"p-dropdown",6),n(),t(8,"div",5),h(9,"p-calendar",7),n(),t(10,"div",5),h(11,"input",8),n(),t(12,"div",5),h(13,"p-button",9),t(14,"p-button",10),c("onClick",function(){return o.resetSearch()}),n()()()()(),t(15,"p-table",11),g(16,Wt,11,0,"ng-template",12)(17,zt,12,6,"ng-template",13)(18,At,3,0,"ng-template",14),n()()()(),t(19,"p-dialog",15),T("visibleChange",function(S){return E(o.detailsDialogVisible,S)||(o.detailsDialogVisible=S),S}),c("onHide",function(){return o.hideInvoiceDialog()}),g(20,Kt,1,1,"ng-template",16)(21,Yt,1,0,"ng-template",17),n(),t(22,"edit-deliver",18),c("onHide",function(){return o.editDeliverDialogClosed()})("onSubmit",function(){return o.editDeliverSubmited()}),n()),r&2&&(l(3),s("toggleable",!0),l(),s("formGroup",o.searchForm),l(3),s("options",o.users())("filter",!0)("showClear",!0)("autoOptionFocus",!1),l(2),s("showIcon",!1)("showClear",!0)("readonlyInput",!0),l(4),s("loading",o.isLoading()),l(),s("disabled",o.isLoading()),l(),s("value",o.moneyTransferHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(26,jt))("alwaysShowPaginator",!1)("loading",o.isLoading()),l(4),R(w(27,qt)),D("visible",o.detailsDialogVisible),s("modal",!0)("closable",!0)("maximizable",!0),l(3),s("visible",o.editDialogVisible)("selectedDeliver",o.selectedDeliver))},dependencies:[j,A,q,V,W,Q,G,L,P,M,k,F,U,$,B,N,Y,Se,H]})}}return i})();var Jt=()=>[10,25,50],Xt=()=>({width:"95vw"});function Zt(i,p){i&1&&(t(0,"tr")(1,"th"),a(2,"Invoice #"),n(),t(3,"th"),a(4,"Supplier"),n(),t(5,"th"),a(6,"Datetime"),n(),t(7,"th"),a(8,"total"),n(),t(9,"th",18),a(10,"Options"),n()())}function ei(i,p){if(i&1){let e=C();t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),n(),t(7,"td"),a(8),y(9,"currency"),n(),t(10,"td")(11,"button",19),c("click",function(){let o=f(e).$implicit,m=d();return v(m.showInvoiceDialog(o))}),n()(),t(12,"td")(13,"button",20),c("click",function(){let o=f(e).$implicit,m=d();return v(m.openEditDialog(o))}),n()()()}if(i&2){let e=p.$implicit;l(2),u(e.invoice_number),l(2),u(e.supplier_name||"---"),l(2),u(e.order_datetime),l(2),u(b(9,5,e.total_cost)),l(5),s("disabled",!0)}}function ti(i,p){i&1&&(t(0,"tr")(1,"td",21),a(2,"No Records Found!"),n()())}function ii(i,p){i&1&&(t(0,"tr")(1,"th",24),a(2,"Barcode"),n(),t(3,"th",25),a(4,"Description"),n(),t(5,"th",24),a(6,"Unit Price"),n(),t(7,"th",26),a(8,"Qty"),n(),t(9,"th",24),a(10,"Total Price"),n()())}function ni(i,p){if(i&1&&(t(0,"tr")(1,"td"),a(2),n(),t(3,"td"),a(4),n(),t(5,"td"),a(6),y(7,"currency"),n(),t(8,"td"),a(9),n(),t(10,"td"),a(11),y(12,"currency"),n()()),i&2){let e=p.$implicit;l(2),u(e.barcode||"---"),l(2),u(e.product_name),l(2),x(" ",b(7,5,e.unit_cost)," "),l(3),u(e.quantity),l(2),x(" ",b(12,7,e.unit_cost*e.quantity)," ")}}function oi(i,p){if(i&1&&(t(0,"tr"),h(1,"td")(2,"td")(3,"td"),t(4,"td"),a(5),n(),t(6,"td"),a(7),y(8,"currency"),n()()),i&2){let e=d(3);l(5),u(e.selectedInvoiceTotals.totalQty),l(2),x(" ",b(8,2,e.selectedInvoiceTotals.totalCost)," ")}}function ri(i,p){if(i&1&&(t(0,"p-table",23),g(1,ii,11,0,"ng-template",12)(2,ni,13,9,"ng-template",13)(3,oi,9,4,"ng-template",17),n()),i&2){let e=d(2);s("value",e.invoiceItems)}}function ai(i,p){if(i&1&&g(0,ri,4,1,"p-table",22),i&2){let e=d();s("ngIf",e.invoiceItems.length!=0)}}function li(i,p){if(i&1){let e=C();t(0,"button",27),c("click",function(){f(e);let o=d();return v(o.hideInvoiceDialog())}),n()}}var rt=(()=>{class i{constructor(){this.suppliersService=_(ce),this.historyService=_(X),this.decimalService=_(Qe),this.dateService=_(K),this.suppliers=this.suppliersService.suppliers,this.detailsDialogVisible=!1,this.editDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0,totalCost:0},this.subscriptions=new Z,this.purchasesHistory=this.historyService.purchasesHistory,this.loadingPurchaseHistory=this.historyService.loadingPurchasesHistory,this.searchForm=new pe({invoice_number:new z(null),supplier_id:new z(null),invoice_date:new z(null)}),this.submitSearch()}submitSearch(){this.searchForm.value.invoice_date&&(this.searchForm.value.invoice_date=this.dateService.formatDate(this.searchForm.value.invoice_date,"YYYY-MM-DD")),this.historyService.fetchPurchasesHistory(this.searchForm.value)}resetSearch(){this.searchForm.reset(),this.historyService.fetchPurchasesHistory(null)}showInvoiceDialog(e){this.invoiceItems=e.items,this.invoiceItems.forEach(r=>{this.selectedInvoiceTotals.totalQty+=r.quantity,this.selectedInvoiceTotals.totalCost=this.decimalService.add(this.selectedInvoiceTotals.totalCost,r.unit_cost*r.quantity)}),this.detailsDialogVisible=!0}printDelivery(e){}openEditDialog(e){this.selectedInvoice=e,this.editDialogVisible=!0}closeEditDialog(){this.selectedInvoice=null,this.editDialogVisible=!1}hideInvoiceDialog(){this.detailsDialogVisible=!1,this.selectedInvoiceTotals={totalQty:0,totalCost:0}}submitEdit(e){this.historyService.fetchPurchasesHistory(this.searchForm.value)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=I({type:i,selectors:[["app-supply-history"]],decls:22,vars:27,consts:[[1,"grid","m-1"],[1,"col-12"],["legend","Search Form",3,"toggleable"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","md:col-6","lg:col-3"],["formControlName","invoice_number","type","search","placeholder","Invoice #","pInputText","","spellcheck","false",1,"p-inputtext-sm","w-full"],["formControlName","supplier_id","styleClass","p-inputtext-sm w-full","id","supplier","appendTo","body","optionLabel","name","optionValue","account_id","placeholder","Select Supplier","filterBy","name",3,"options","filter","showClear","autoOptionFocus"],["formControlName","invoice_date","styleClass","p-inputtext-sm w-full","dateFormat","yy-mm-dd","placeholder","Date",3,"showIcon","showClear","readonlyInput","showButtonBar"],["type","submit","label","search","icon","pi pi-search","pRipple","","size","small","severity","success",1,"mr-2",3,"loading"],["icon","pi pi-times","label","Clear","styleClass","p-button-primary p-button-sm","severity","danger",3,"onClick","disabled"],["dataKey","order_id","styleClass","p-datatable-sm",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","alwaysShowPaginator","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Details","position","top",3,"visibleChange","onHide","visible","modal","closable","maximizable"],["pTemplate","content"],["pTemplate","footer"],["colspan","3","width","10%"],["size","small","pButton","","pRipple","","icon","fas fa-eye",1,"p-button-success",3,"click"],["size","small","pButton","","pRipple","","icon","fas fa-edit","severity","warning",3,"click","disabled"],["colspan","11"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value",4,"ngIf"],["dataKey","order_item_id","styleClass","p-datatable-sm",3,"value"],["width","20%"],["width","35%"],["width","5%"],["pButton","","pRipple","","label","Close","icon","pi pi-times",1,"p-button-secondary",3,"click"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"div",1)(2,"p-card")(3,"p-fieldset",2)(4,"form",3),c("ngSubmit",function(){return o.submitSearch()}),t(5,"div",4)(6,"div",5),h(7,"input",6),n(),t(8,"div",5),h(9,"p-dropdown",7),n(),t(10,"div",5),h(11,"p-calendar",8),n(),t(12,"div",5),h(13,"p-button",9),t(14,"p-button",10),c("onClick",function(){return o.resetSearch()}),n()()()()(),t(15,"p-table",11),g(16,Zt,11,0,"ng-template",12)(17,ei,14,7,"ng-template",13)(18,ti,3,0,"ng-template",14),n()()()(),t(19,"p-dialog",15),T("visibleChange",function(S){return E(o.detailsDialogVisible,S)||(o.detailsDialogVisible=S),S}),c("onHide",function(){return o.hideInvoiceDialog()}),g(20,ai,1,1,"ng-template",16)(21,li,1,0,"ng-template",17),n()),r&2&&(l(3),s("toggleable",!0),l(),s("formGroup",o.searchForm),l(5),s("options",o.suppliers())("filter",!0)("showClear",!0)("autoOptionFocus",!1),l(2),s("showIcon",!1)("showClear",!0)("readonlyInput",!0)("showButtonBar",!0),l(2),s("loading",o.loadingPurchaseHistory()),l(),s("disabled",o.loadingPurchaseHistory()),l(),s("value",o.purchasesHistory())("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",w(25,Jt))("alwaysShowPaginator",!1)("loading",o.loadingPurchaseHistory()),l(4),R(w(26,Xt)),D("visible",o.detailsDialogVisible),s("modal",!0)("closable",!0)("maximizable",!0))},dependencies:[j,A,q,V,W,Q,G,L,P,M,k,F,U,$,B,N,Y,H],styles:["[_nghost-%COMP%]  .p-fieldset-content{padding:.5rem!important}"]})}}return i})();var si=[{path:"deliver-history",data:{breadcrumb:"deliver"},component:tt},{path:"purchase-history",data:{breadcrumb:"Purchases"},component:rt},{path:"receipts-history",data:{breadcrumb:"Recipts"},component:nt},{path:"money-transfer-history",data:{breadcrumb:"Money Transfers"},component:ot}],at=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=oe({type:i})}static{this.\u0275inj=ne({imports:[we.forChild(si),we]})}}return i})();var jn=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=oe({type:i})}static{this.\u0275inj=ne({imports:[Ve,at,ke,Be,Ue,Le,Ne,je,Oe,Je,qe,Ae,Xe,de,ze]})}}return i})();export{jn as HistoryModule};
