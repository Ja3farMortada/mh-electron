import{C as n,F as d,G as h,Wb as u,g as a,q as i,zb as m}from"./chunk-E4UPHNBD.js";var p=(()=>{class t{constructor(e){this.messageService=e,this.successSound=new Audio("/sounds/ding-sound.mp3"),this.errorSound=new Audio("/sounds/error-2.mp3"),this.notifySound=new Audio("/sounds/notify.ogg"),this.successSound.load(),this.errorSound.load(),this.notifySound.load()}handleError(e,r="home"){let s="Unknown Error!",o="Unknown Error!!";return e.error instanceof ErrorEvent?(s=`Error: ${e.error}`,o=`${Object.hasOwn(e,"error.error.message")?e.error.message:e.error}`):(s=`Server error code: ${e.status}
 Message: ${e.error}`,o=`${Object.hasOwn(e,"error.error.message")?e.error.message:e.error}`),console.log(e),this.messageService.add({severity:"error",key:"home",summary:"Error",detail:o}),this.errorSound.play(),a(()=>new Error("Something bad happened; please try again later."))}showSuccess(e="Operation completed successfully!",r="home"){this.messageService.add({severity:"success",key:r,summary:"Success",detail:e}),this.successSound.play()}showError(e,r){this.messageService.add({severity:"error",key:r,summary:"Error",detail:e}),this.errorSound.play()}showInfo(e,r="home",s=!0){this.messageService.add({severity:"info",key:r,summary:"Info",detail:`${e}`,life:5e3}),this.notifySound.play()}showSocketMessage(e,r="home"){this.messageService.add({severity:"info",key:r,summary:"Info",detail:`${e}`,life:4e3}),console.log("sound played"),this.notifySound.play()}playSound(){console.log("sound played"),this.notifySound.play()}static{this.\u0275fac=function(r){return new(r||t)(d(u))}}static{this.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var l={apiUri:"https://api.karizmacell.com"};var j=(()=>{class t{constructor(){this.notificationService=h(p),this.http=h(m),this.host=l.apiUri,this.baseUrl=`${l.apiUri}/`}buildUrl(e){return`${this.baseUrl.replace(/\/+$/,"")}/${e.replace(/^\/+/,"")}`}get(e,r={}){return this.http.get(this.buildUrl(e),{params:r.params,headers:r.headers}).pipe(i(s=>this.handleError(s)))}post(e,r,s={}){return this.http.post(this.buildUrl(e),r,{params:s.params,headers:s.headers}).pipe(i(o=>this.handleError(o)))}put(e,r,s={}){return this.http.put(this.buildUrl(e),r,{params:s.params,headers:s.headers}).pipe(i(o=>this.handleError(o)))}delete(e,r={}){return this.http.delete(this.buildUrl(e),{params:r.params,headers:r.headers}).pipe(i(s=>this.handleError(s)))}handleError(e){let r="Unknown Error!!";return e.error instanceof ErrorEvent?(console.log("client error"),r=`${Object.hasOwn(e,"error.error.message")?e.error.message:e.error}`):(console.log("server error"),e.error&&(e.error.message?r=e.error.message:e.error.errors?e.error.errors[0].message&&(r=e.error.errors[0].message):r=e.error)),this.notificationService.showError(r,"home"),a(()=>e)}hasNestedKey(e,r){if(!e||typeof e!="object")return!1;let s=Array.isArray(r)?r:r.split("."),o=e;for(let c of s){if(!Object.hasOwn(o,c))return!1;o=o[c]}return!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=n({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{l as a,p as b,j as c};
