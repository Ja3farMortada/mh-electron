import{a as te}from"./chunk-UTBN6P6Q.js";import{c as ee}from"./chunk-HT3JZ6CO.js";import{a as Z,b as $}from"./chunk-C5S2HPP5.js";import{a as se,b as me}from"./chunk-7PIM7VCW.js";import{i as ae,j as oe,l as le,m as re}from"./chunk-DNVA5LVB.js";import{$b as P,$c as ie,Ba as v,Ca as m,Da as d,Fc as K,G as _,Gc as Q,H as x,Hb as H,Hc as X,Ic as Y,Ma as o,O as h,Oa as D,P as f,Qa as T,Ra as w,Sa as V,Ua as F,Va as E,Wa as g,_c as ne,aa as l,cb as k,db as M,dc as L,fc as C,hc as z,ic as A,ka as c,ma as r,mc as G,oc as R,pa as B,pc as W,qb as N,rc as j,sb as I,tc as U,va as n,vb as O,vc as J,wa as i,xa as p,xb as q}from"./chunk-E4UPHNBD.js";var ce=()=>({width:"65vw"}),S=t=>({"ng-invalid ng-dirty":t});function pe(t,u){t&1&&(n(0,"h4",4),p(1,"i",11),o(2," Cash Management "),i())}function ue(t,u){t&1&&(n(0,"small",21),o(1,"Option is required."),i())}function de(t,u){t&1&&(n(0,"small",21),o(1,"amount is required."),i())}function _e(t,u){t&1&&(n(0,"small",21),o(1,"Notes is required."),i())}function he(t,u){if(t&1){let e=v();n(0,"form",12),m("ngSubmit",function(){h(e);let a=d();return f(a.submitCash())}),n(1,"div",13)(2,"div",14)(3,"label"),o(4,"Option"),n(5,"span",15),o(6,"*"),i()(),p(7,"p-dropdown",16),c(8,ue,2,0,"small",17),i(),n(9,"div",14)(10,"label"),o(11,"Amount"),n(12,"span",15),o(13,"*"),i()(),p(14,"p-inputNumber",18),c(15,de,2,0,"small",17),i(),n(16,"div",19)(17,"label"),o(18,"Notes"),i(),p(19,"input",20),c(20,_e,2,0,"small",17),i()()()}if(t&2){let e=d();r("formGroup",e.cashForm),l(7),r("autoOptionFocus",!1)("options",e.transactionOptions)("ngClass",g(9,S,(e.transaction_type==null?null:e.transaction_type.invalid)&&((e.transaction_type==null?null:e.transaction_type.dirty)||(e.transaction_type==null?null:e.transaction_type.touched)||e.submitted))),l(),r("ngIf",(e.transaction_type==null?null:e.transaction_type.invalid)&&((e.transaction_type==null?null:e.transaction_type.dirty)||(e.transaction_type==null?null:e.transaction_type.touched)||e.submitted)),l(6),r("ngClass",g(11,S,(e.amount==null?null:e.amount.invalid)&&((e.amount==null?null:e.amount.dirty)||(e.amount==null?null:e.amount.touched)||e.submitted))),l(),r("ngIf",(e.amount==null?null:e.amount.invalid)&&((e.amount==null?null:e.amount.dirty)||(e.amount==null?null:e.amount.touched)||e.submitted)),l(4),r("ngClass",g(13,S,(e.transaction_notes==null?null:e.transaction_notes.invalid)&&((e.transaction_notes==null?null:e.transaction_notes.dirty)||(e.transaction_notes==null?null:e.transaction_notes.touched)||e.submitted))),l(),r("ngIf",(e.transaction_notes==null?null:e.transaction_notes.invalid)&&((e.transaction_notes==null?null:e.transaction_notes.dirty)||(e.transaction_notes==null?null:e.transaction_notes.touched)||e.submitted))}}function fe(t,u){if(t&1){let e=v();n(0,"p-button",22),m("onClick",function(){h(e);let a=d();return f(a.toggleCashDialog())}),i(),n(1,"p-button",23),m("onClick",function(){h(e);let a=d();return f(a.submitCash())}),i()}}var Re=(()=>{class t{constructor(){this.balanceService=_(te),this.fb=_(j),this.router=_(H),this.loading_balance=this.balanceService.loading_balance,this.balance=this.balanceService.balance,this.cashDialogVisible=this.balanceService.cashDialogVisible,this.submitted=!1,this.transactionOptions=[{name:"Add",value:"ADD"},{name:"Remove",value:"REMOVE"}],this.cashForm=this.fb.group({product_id_fk:[null],transaction_type:[{value:null,disabled:!1},C.required],amount:[null,C.required],transaction_notes:[null,C.required]})}refreshBalance(){this.balanceService.getBalance()}get transaction_type(){return this.cashForm.get("transaction_type")}get amount(){return this.cashForm.get("amount")}get transaction_notes(){return this.cashForm.get("transaction_notes")}openCashDialog(){this.balanceService.cashDialogVisible.set(!0)}toggleCashDialog(){this.balanceService.cashDialogVisible.set(!1)}submitCash(){this.submitted=!0,this.cashForm.valid&&this.balanceService.submitCash(this.cashForm.value)}resetDialog(){this.submitted=!1,this.cashForm.reset(),this.balanceService.cashDialogVisible.set(!1)}navigateHistory(){this.router.navigate(["/history/cash-history"])}static{this.\u0275fac=function(s){return new(s||t)}}static{this.\u0275cmp=x({type:t,selectors:[["cash-balance"]],standalone:!0,features:[F],decls:13,vars:10,consts:[["styleClass","text-center"],["pTemplate","header"],[1,"flex","justify-content-around","align-items-center"],["loaderClass","flex-grow-1 flex-shrink-1",2,"width","30%",3,"isLoading","loadingBar"],[1,"m-0"],["layout","vertical"],["label","refresh","icon","pi pi-refresh","size","small",3,"onClick"],["label","history","icon","pi pi-history","size","small","severity","contrast",3,"onClick"],["header","Cash Correction","styleClass","p-fluid","position","top",3,"visibleChange","onHide","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[1,"pi","pi-money-bill","pi-fw"],[3,"ngSubmit","formGroup"],[1,"formgrid","grid"],[1,"field","col-12","md:col-3"],[1,"text-red-600"],["scrollHeight","400px","appendTo","body","formControlName","transaction_type","optionLabel","name","optionValue","value","placeholder","transaction type ...",3,"autoOptionFocus","options","ngClass"],["class","p-error",4,"ngIf"],["formControlName","amount","inputId","currency-us","mode","currency","currency","USD","locale","en-US",3,"ngClass"],[1,"field","col-12","md:col-6"],["type","text","spellcheck","false","pInputText","","formControlName","transaction_notes",1,"w-full",3,"ngClass"],[1,"p-error"],["label","Cancel","icon","pi pi-times","size","small","severity","secondary",3,"onClick"],["severity","success","label","Save","icon","pi pi-check","size","small",3,"onClick"]],template:function(s,a){s&1&&(n(0,"p-panel",0),c(1,pe,3,0,"ng-template",1),n(2,"div",2)(3,"text-with-loading",3)(4,"h2",4),o(5),k(6,"currency"),i()(),p(7,"p-divider",5),n(8,"p-button",6),m("onClick",function(){return a.refreshBalance()}),i(),n(9,"p-button",7),m("onClick",function(){return a.navigateHistory()}),i()()(),n(10,"p-dialog",8),V("visibleChange",function(y){return w(a.cashDialogVisible,y)||(a.cashDialogVisible=y),y}),m("onHide",function(){return a.resetDialog()}),c(11,he,21,15,"ng-template",9)(12,fe,2,0,"ng-template",10),i()),s&2&&(l(3),r("isLoading",a.loading_balance())("loadingBar",!0),l(2),D("Cash ",M(6,7,a.balance().balance),""),l(5),B(E(9,ce)),T("visible",a.cashDialogVisible),r("modal",!0))},dependencies:[J,P,ee,Q,K,O,ie,ne,U,G,L,z,A,R,W,oe,ae,q,N,I,Y,X,re,le,$,Z,me,se],styles:["[_nghost-%COMP%]  .p-divider.p-divider-vertical .p-divider-content{padding:0}"]})}}return t})();export{Re as a};
