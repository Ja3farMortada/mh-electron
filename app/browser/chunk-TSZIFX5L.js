import{b as n,c as a}from"./chunk-UQQFQ63C.js";import{C as o,G as r,ha as e,zb as h}from"./chunk-E4UPHNBD.js";var y=(()=>{class i{constructor(){this.http=r(h),this.apiService=r(a),this.notificationService=r(n),this.salesHistory=e([]),this.paymentsHistory=e([]),this.signal_loading=e(!1),this.returnHistory=e([]),this.disposeHistory=e([]),this.host=this.apiService.host,this.selectedOrderItems=e([]),this.selectedReturnOrderItems=e([])}fetchSalesHistory(s){this.signal_loading.set(!0),this.http.post(`${this.host}/history/sales/search`,s).subscribe({next:t=>{this.salesHistory.set(t),this.signal_loading.set(!1)},error:t=>{this.signal_loading.set(!1),this.notificationService.handleError(t.error,"home")}})}fetchOrderItemsById(s){s.length>0&&this.http.post(`${this.host}/history/sales/details`,s).subscribe({next:t=>{this.selectedOrderItems.set(t)},error:t=>{this.notificationService.showError(t.error,"home")}})}fetchReturnOrderItemsById(s){s.length>0&&this.apiService.post("history/returns/details",s).subscribe({next:t=>{this.selectedReturnOrderItems.set(t)}})}fetchPaymentHistory(s){this.signal_loading.set(!0),this.http.post(`${this.host}/history/payment/search`,s).subscribe({next:t=>{this.paymentsHistory.set(t),this.signal_loading.set(!1)},error:t=>{this.signal_loading.set(!1),this.notificationService.handleError(t.error,"home")}})}fetchReturnHistory(s){this.signal_loading.set(!0),this.http.post(`${this.host}/history/return/search`,s).subscribe({next:t=>{this.returnHistory.set(t),this.signal_loading.set(!1)},error:t=>{this.signal_loading.set(!1),this.notificationService.handleError(t.error,"home")}})}fetchDisposeHistory(s){this.signal_loading.set(!0),this.http.post(`${this.host}/history/dispose/search`,s).subscribe({next:t=>{this.disposeHistory.set(t),this.signal_loading.set(!1)},error:t=>{this.signal_loading.set(!1),this.notificationService.handleError(t.error,"home")}})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{y as a};
